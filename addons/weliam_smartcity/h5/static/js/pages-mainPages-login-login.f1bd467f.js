(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-mainPages-login-login"],{"0c1b":function(e,t,n){var i=n("24fb");t=i(!1),t.push([e.i,"uni-page-body[data-v-3854e169]{background:#fff}.login[data-v-3854e169]{width:%?750?%;background:#fff;font-size:0}.loginPackage[data-v-3854e169]{padding:%?64?%}.title[data-v-3854e169]{margin-top:%?26?%;font-size:%?48?%;font-weight:700;color:#333}.loginAgreement[data-v-3854e169]{margin-top:%?20?%}.loginAgreement > span[data-v-3854e169]{font-size:%?24?%;color:#999}.loginAgreement > span > span[data-v-3854e169]{color:#2e6b9e}.loginInput[data-v-3854e169]{margin-top:%?115?%}.loginInput > uni-view[data-v-3854e169]{display:flex;justify-content:space-between;margin-top:%?25?%;height:%?81?%;width:%?622?%;border-bottom:1px solid #eee}.loginInput > uni-view > uni-input[data-v-3854e169]{width:%?400?%;margin-top:%?10?%;vertical-align:top;font-size:%?28?%;color:#333}.loginInput > uni-view > uni-image[data-v-3854e169]{vertical-align:top;width:%?128?%;height:%?57?%}.loginInput > uni-view > uni-view[data-v-3854e169]{vertical-align:middle;display:inline-block}.loginInput > uni-view > uni-view > uni-image[data-v-3854e169]{vertical-align:middle;width:%?48?%;height:%?48?%;margin-right:%?18?%}.loginInput > uni-view > uni-view > span[data-v-3854e169]{line-height:%?60?%;vertical-align:middle;font-size:%?24?%;color:#999}uni-input[data-v-3854e169]::-webkit-input-placeholder{font-size:%?28?%;color:#999}uni-input[data-v-3854e169]::placeholder{font-size:%?28?%;color:#999}.loginSubimt[data-v-3854e169]{margin:%?60?% auto 0 auto;width:%?622?%;height:%?88?%;background:#f44;border-radius:44px;text-align:center}.loginSubimt > span[data-v-3854e169]{line-height:%?88?%;font-size:%?30?%;color:#fff}.checkLoginType[data-v-3854e169]{margin:%?60?% auto 0 auto;width:%?622?%;display:flex;justify-content:space-between}.checkLoginType > span[data-v-3854e169]{font-size:%?24?%;color:#999}.OtherType[data-v-3854e169]{margin-top:%?159?%}.OtherTypeTitle[data-v-3854e169]{text-align:center}.OtherTypeTitle > span[data-v-3854e169]{font-size:%?24?%;color:#999}.OtherTypeButton[data-v-3854e169]{width:%?220?%;margin:%?51?% auto 0 auto;display:flex;justify-content:space-between}.OtherTypeButton > uni-view[data-v-3854e169]{display:inline-block;width:%?74?%;height:%?74?%;border-radius:50%;overflow:hidden}.OtherTypeButton > uni-view > uni-image[data-v-3854e169]{width:%?74?%;height:%?74?%}.smsTitle[data-v-3854e169]{margin-top:%?64?%;text-align:center}.smsTitle > span[data-v-3854e169]{font-size:%?24?%;color:#999}.smsTitle1[data-v-3854e169]{margin-top:%?19?%;text-align:center}.smsTitle1 > span[data-v-3854e169]{font-size:%?36?%;color:#333}.smsCodeInput[data-v-3854e169]{margin:%?104?% auto 0 auto;display:flex;justify-content:space-between;width:%?622?%}.smsCodeInput > uni-view[data-v-3854e169]{text-align:center;display:inline-block;width:%?120?%;border-bottom:1px solid #eee}.smsCodeInput > uni-view > uni-input[data-v-3854e169]{font-size:%?50?%;color:#333}.smsCodeSubimt[data-v-3854e169]{margin:%?79?% auto 0 auto;width:%?622?%;height:%?88?%;background:#f44;border-radius:%?44?%;text-align:center}.smsCodeSubimt > span[data-v-3854e169]{line-height:%?88?%;font-size:%?30?%;color:#fff}.sendSmsCode[data-v-3854e169]{margin-top:%?30?%;width:%?250?%}.sendSmsCode > span[data-v-3854e169]{font-size:%?24?%;color:#f44}body.?%PAGE?%[data-v-3854e169]{background:#fff}",""]),e.exports=t},"27ca":function(e,t,n){var i=n("0c1b");"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var a=n("4f06").default;a("1cd809f8",i,!0,{sourceMap:!1,shadowMode:!1})},"53ec":function(e,t,n){"use strict";var i=n("27ca"),a=n.n(i);a.a},"8c86":function(e,t,n){"use strict";n.r(t);var i=n("ec87"),a=n("f240");for(var o in a)"default"!==o&&function(e){n.d(t,e,(function(){return a[e]}))}(o);n("53ec");var s,r=n("f0c5"),u=Object(r["a"])(a["default"],i["b"],i["c"],!1,null,"3854e169",null,!1,i["a"],s);t["default"]=u.exports},ac61:function(e,t,n){"use strict";var i=n("4ea4");n("99af"),n("c975"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n("77ab")),o=(i(n("8c82")),{data:function(){return{cheindex:!1,text1Focus:!0,text2Focus:!1,text3Focus:!1,text4Focus:!1,sms1:"",sms2:"",sms3:"",sms4:"",page:1,see:!1,password:"",getImgUrl:"",getImgCode:"",getSmsCode:"",timeCount:0,smsCode:"",timeEnd:"重新获取短信验证码",userSet:{sms_switch:"",img_switch:""},phone:"",passwords:"",currentPageUrl:"",img:"",codeTime:"",storeChecked:!0}},onLoad:function(){this.init(),this.img=this.imgfixUrl,this.storeChecked=!1,console.info(uni.getStorageSync("currentPage"))},watch:{sms1:{handler:function(){var e=this;1==e.sms1.length&&(e.text2Focus=!0,e.text1Focus=!1)}},sms2:{handler:function(){var e=this;1==e.sms2.length&&(e.text3Focus=!0,e.text2Focus=!1),0==e.sms2.length&&(e.text1Focus=!0,e.text2Focus=!1)}},sms3:{handler:function(){var e=this;1==e.sms3.length&&(e.text4Focus=!0,e.text3Focus=!1),0==e.sms3.length&&(e.text2Focus=!0,e.text3Focus=!1)}},sms4:{handler:function(){var e=this;0==e.sms4.length&&(console.info(e.text3Focus),e.text3Focus=!0,e.text4Focus=!1)}}},methods:{init:function(){var e=this;e.getRegisterSet()},toLoginAgreement:function(e){1==e?a.default.navigationTo({url:"pages/mainPages/agreement/agreement?agremType=user&type=1"}):a.default.navigationTo({url:"pages/mainPages/agreement/agreement?agremType=user&type=2"})},sendSms:function(){var e=this;if(3!==e.page){if(""==e.phone||11!==e.phone.length)return uni.showToast({icon:"none",title:"请输入正确格式的手机号",duration:2e3}),void e.GVC();if(""==e.passwords&&1==e.userSet.img_switch)return uni.showToast({icon:"none",title:"验证码不能为空",duration:2e3}),e.GVC(),void(e.passwords="")}var t={type:2,phone:e.phone,code:e.passwords,time:e.codeTime};a.default._post_form("&do=PIN",t,(function(t){var n=60,i=setInterval((function(){n--,e.timeEnd=n+"s后重新获取验证码",e.timeCount=n,0==n&&clearInterval(i)}),1e3);e.getSmsCode=t.data.code,3!==e.page&&(e.page=3)}))},userLogin:function(e){console.log(1);var t=this;if(1==t.page){if(""==t.phone||11!==t.phone.length)return void uni.showToast({icon:"none",title:"请输入正确格式的手机号",duration:2e3});if(""==t.password)return void uni.showToast({icon:"none",title:"密码不能为空",duration:2e3});if(!t.storeChecked)return void uni.showToast({icon:"none",title:"请先阅读用户协议并勾选",duration:2e3})}t.smsCode="".concat(t.sms1).concat(t.sms2).concat(t.sms3).concat(t.sms4),console.log(2);var n={type:e,phone:t.phone,password:3==t.page?t.smsCode:t.password,backurl:""};n.head_id=uni.getStorageSync("head_id"),a.default._post_form("&p=member&do=userLogin",n,(function(e){if(console.log(3),uni.setStorageSync("weliam_user_token",e.data.token),console.log(uni.getStorageSync("currentPage")),console.info(t.currentPageUrl),console.info(t.currentPageUrl),""==uni.getStorageSync("currentPage")||"pages/mainPages/index/index"==uni.getStorageSync("currentPage").route)a.default.navigationTo({url:"pages/mainPages/index/index",navType:"reLaunch"});else if(uni.getStorageSync("currentPage").route&&-1===uni.getStorageSync("currentPage").route.indexOf("pages/mainPages/login/login")){for(var n in t.currentPageUrl=uni.getStorageSync("currentPage").route+"?i="+uni.getStorageSync("currentPage").options.i,uni.getStorageSync("currentPage").options)console.info(n),"i"!==n&&(t.currentPageUrl=t.currentPageUrl+"&"+n+"="+uni.getStorageSync("currentPage").options[n]);console.info(t.currentPageUrl),a.default.navigationTo({url:t.currentPageUrl})}else a.default.navigationTo({url:"pages/mainPages/index/index",navType:"reLaunch"})}))},getRegisterSet:function(){var e=this,t={};a.default._post_form("&p=member&do=getRegisterSet",t,(function(t){e.userSet=t.data,1==e.userSet.img_switch&&e.GVC(),e.userSet.privacy||(e.storeChecked=!0)}))},GVC:function(){var e=this,t={};a.default._post_form("&do=GVC",t,(function(t){e.getImgUrl=t.data.image_data,e.codeTime=t.data.time}))},toPassword:function(e){var t=this;t.phone="",t.password="",t.page=e,console.info(t.page)},go:function(){a.default.navigationTo({url:"pages/subPages/register/register"})},goForgetPassword:function(){a.default.navigationTo({url:"pages/subPages/forgetPassword/forgetPassword"})},show:function(e){var t=this;t.see=e}}});t.default=o},ec87:function(e,t,n){"use strict";var i;n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return i}));var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-uni-view",[n("v-uni-view",{staticClass:"login"},[n("far-bottom"),1==e.page||2==e.page?n("v-uni-view",{staticClass:"loginPackage"},[1==e.page?n("v-uni-view",{staticClass:"title"},[e._v("登录注册更精彩")]):e._e(),2==e.page?n("v-uni-view",{staticClass:"title"},[e._v("请输入手机号码")]):e._e(),e.userSet.describe||e.userSet.privacy?n("v-uni-view",{staticClass:"loginAgreement"},[e.storeChecked?n("v-uni-image",{staticStyle:{width:"25upx",height:"25upx","margin-bottom":"-2upx"},attrs:{src:e.imgfixUrls+"merchant/checked.svg"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.storeChecked=!1}}}):n("v-uni-view",{staticStyle:{height:"20upx",width:"20upx",border:"1px solid #FF4444","border-radius":"50%",display:"inline-block","margin-bottom":"-2upx"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.storeChecked=!0}}}),n("span",{staticStyle:{"padding-left":"10upx"}},[n("v-uni-text",{on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.storeChecked=!e.storeChecked}}},[e._v("登录注册表示同意")]),e.userSet.describe?n("span",{on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.toLoginAgreement(1)}}},[e._v("《用户协议》")]):e._e(),e.userSet.privacy?n("span",{on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.toLoginAgreement(2)}}},[e._v(",《隐私协议》")]):e._e()],1)],1):e._e(),n("v-uni-view",{staticClass:"loginInput"},[n("v-uni-view",[n("v-uni-input",{attrs:{placeholder:"请输入手机号",type:"number"},model:{value:e.phone,callback:function(t){e.phone=t},expression:"phone"}}),n("span")],1),1==e.page?n("v-uni-view",[0==e.see?n("v-uni-input",{attrs:{placeholder:"请输入密码",type:"password"},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}):e._e(),1==e.see?n("v-uni-input",{attrs:{placeholder:"请输入密码"},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}):e._e(),n("v-uni-view",[0==e.see?n("v-uni-image",{attrs:{src:e.imgfixUrls+"merchant/show.png"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.show(!0)}}}):e._e(),1==e.see?n("v-uni-image",{attrs:{src:e.imgfixUrls+"merchant/cshow.png"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.show(!1)}}}):e._e(),n("span",{on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.goForgetPassword.apply(void 0,arguments)}}},[e._v("忘记密码")])],1)],1):e._e(),2==e.page&&1==e.userSet.img_switch?n("v-uni-view",[n("v-uni-input",{attrs:{placeholder:"请输入图形验证码"},model:{value:e.passwords,callback:function(t){e.passwords=t},expression:"passwords"}}),n("v-uni-image",{attrs:{src:e.getImgUrl},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.GVC.apply(void 0,arguments)}}})],1):e._e()],1),1==e.page?n("v-uni-view",{staticClass:"loginSubimt",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.userLogin(1)}}},[n("span",[e._v("登陆")])]):e._e(),2==e.page?n("v-uni-view",{staticClass:"loginSubimt",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.sendSms.apply(void 0,arguments)}}},[n("span",[e._v("获取短信验证码")])]):e._e(),n("v-uni-view",{staticClass:"checkLoginType"},[n("span",{directives:[{name:"show",rawName:"v-show",value:2==e.page,expression:"page == 2"}],on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.toPassword(1)}}},[e._v("账号密码登录")]),1==e.page&&0==e.userSet.sms_switch?n("span",{on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.toPassword(2)}}},[e._v("短信验证码登录")]):e._e(),n("span",{on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.go()}}},[e._v("新用户注册")])])],1):e._e(),3==e.page?n("v-uni-view",[n("v-uni-view",{staticClass:"loginPackage"},[n("v-uni-view",{staticClass:"smsTitle"},[n("span",[e._v("我们将以短信形式将验证码发送至")])]),n("v-uni-view",{staticClass:"smsTitle1"},[n("span",[e._v(e._s(e.phone))])]),n("v-uni-view",{staticClass:"smsCodeInput"},[n("v-uni-view",[n("v-uni-input",{attrs:{type:"number",maxlength:"1",id:"text1",focus:e.text1Focus},model:{value:e.sms1,callback:function(t){e.sms1=t},expression:"sms1"}})],1),n("v-uni-view",[n("v-uni-input",{attrs:{type:"number",maxlength:"1",id:"text2",focus:e.text2Focus},model:{value:e.sms2,callback:function(t){e.sms2=t},expression:"sms2"}})],1),n("v-uni-view",[n("v-uni-input",{attrs:{type:"number",maxlength:"1",id:"text3",focus:e.text3Focus},model:{value:e.sms3,callback:function(t){e.sms3=t},expression:"sms3"}})],1),n("v-uni-view",[n("v-uni-input",{attrs:{type:"number",maxlength:"1",id:"text4",focus:e.text4Focus},model:{value:e.sms4,callback:function(t){e.sms4=t},expression:"sms4"}})],1)],1),0==e.timeCount?n("v-uni-view",{staticClass:"sendSmsCode",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.sendSms.apply(void 0,arguments)}}},[n("span",[e._v("重新发送验证码")])]):n("v-uni-view",{staticClass:"sendSmsCode"},[n("span",[e._v(e._s(e.timeEnd))])]),n("v-uni-view",{staticClass:"smsCodeSubimt",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.userLogin(2)}}},[n("span",[e._v("登陆")])])],1)],1):e._e()],1)],1)},o=[]},f240:function(e,t,n){"use strict";n.r(t);var i=n("ac61"),a=n.n(i);for(var o in i)"default"!==o&&function(e){n.d(t,e,(function(){return i[e]}))}(o);t["default"]=a.a}}]);