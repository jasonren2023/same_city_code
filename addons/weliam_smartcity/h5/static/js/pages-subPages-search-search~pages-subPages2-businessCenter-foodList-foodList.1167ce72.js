(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-subPages-search-search~pages-subPages2-businessCenter-foodList-foodList"],{"03c5":function(t,e,i){var a=i("24fb");e=a(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */uni-page-body[data-v-0428a1aa],\r\n.content[data-v-0428a1aa]{height:100%;background-color:#fff}.viptag[data-v-0428a1aa]{position:absolute;right:0;color:#fff;top:0;background:linear-gradient(580deg,#31b968 50%,transparent 0);font-size:%?24?%;text-align:right;width:%?50?%;height:%?50?%}.foot[data-v-0428a1aa]{position:fixed;bottom:%?60?%;height:%?90?%;left:%?10?%;width:100%}.foot .cart[data-v-0428a1aa]{width:%?180?%;height:%?90?%;line-height:%?90?%;text-align:center}.content[data-v-0428a1aa]{display:flex}.left-aside[data-v-0428a1aa]{flex-shrink:0;width:%?200?%;height:100%;background-color:#f8f8f8}.f-item[data-v-0428a1aa]{display:flex;align-items:center;justify-content:center;width:100%;height:%?100?%;font-size:%?28?%;color:#888;position:relative}.f-item.active[data-v-0428a1aa]{color:#3a3a3a;background:#fff}.f-item.active[data-v-0428a1aa]:before{content:"";position:absolute;left:0;top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%);height:%?36?%;width:%?8?%;background-color:red;border-radius:0 4px 4px 0;opacity:.8}.f-item[data-v-0428a1aa]:last-child{margin-bottom:%?110?%}.right-aside[data-v-0428a1aa]{flex:1;overflow:hidden;padding-left:%?20?%}.s-list[data-v-0428a1aa]:last-child{padding-bottom:%?200?%}.s-item[data-v-0428a1aa]{display:flex;align-items:center;height:%?70?%;padding-top:%?8?%;font-size:%?28?%;color:#f44}.t-list .t-item[data-v-0428a1aa]:last-child{border:none}.t-list[data-v-0428a1aa]{\r\n  /* display: flex; */flex-wrap:wrap;width:100%;background:#fff;padding-top:%?12?%}.t-list[data-v-0428a1aa]:after{content:"";flex:99;height:0}.t-item[data-v-0428a1aa]{\r\n  /* flex-shrink: 0; */display:flex;\r\n  /* justify-content: center;\r\n\t\talign-items: center;\r\n\t\tflex-direction: column; */\r\n  /* width: 176upx; */font-size:%?26?%;color:#666;padding-bottom:%?10?%;width:95%;border-bottom:%?1?% solid #f1f1f1;padding-top:%?10?%}.t-item uni-image[data-v-0428a1aa]{width:%?140?%;height:%?140?%}.footName[data-v-0428a1aa]{width:70vw;overflow:hidden;\r\n  /*超出部分隐藏*/white-space:nowrap;\r\n  /*不换行*/text-overflow:ellipsis;\r\n  /*超出部分文字以...显示*/font-weight:600}.checked[data-v-0428a1aa]{background-color:#fff5f5;border:%?1?% solid #f44;border-radius:%?10?%;font-size:%?24?%;color:#f44}.noChecked[data-v-0428a1aa]{background-color:#fff;border:%?1?% solid #999;border-radius:%?10?%;font-size:%?24?%}.member-coupon-view[data-v-0428a1aa]{float:right}.member-price-label[data-v-0428a1aa]{color:#333;height:0;line-height:%?30?%;border-width:%?0?% %?10?% %?30?% 0;border-style:none solid solid;border-color:transparent #000 #efd68f;position:relative;left:%?10?%;padding-left:%?6?%;border-radius:%?4?% 0 0 %?4?%;margin-left:%?-10?%}.coupon-price-2[data-v-0428a1aa]{padding:0 %?10?%;height:%?30?%;line-height:%?30?%;border-radius:0 %?4?% %?4?% 0}.member-coupon-price[data-v-0428a1aa]{color:#efd68f}body.?%PAGE?%[data-v-0428a1aa]{background-color:#fff}',""]),t.exports=e},"2afb":function(t,e,i){"use strict";var a=i("3705"),n=i.n(a);n.a},3705:function(t,e,i){var a=i("03c5");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("4f06").default;n("0bcfc669",a,!0,{sourceMap:!1,shadowMode:!1})},a6fc:function(t,e,i){"use strict";var a=i("4ea4");i("99af"),i("4de4"),i("c740"),i("4160"),i("d81d"),i("26e9"),i("ac1f"),i("159b"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n,o=a(i("ade3")),c=a(i("77ab")),s=a(i("a833")),l=a(i("e708")),r=a(i("d8a5")),d=(n={components:{tuiNumberbox:l.default,PopupView:s.default,jumpBall:r.default},data:function(){return{nums:1,element:[],animation:"",animationData:{},off:!1,selectSpecification:{},showBuyMenu:!1,sizeCalcState:!1,tabScrollTop:0,currentId:1,flist:[],slist:[],tlist:[],value:0,numberPeople:{},goodid:0,num:0,record:!0,onepoc:!0}},mounted:function(){var t=uni.createAnimation({duration:1e3,timingFunction:"ease"});this.animation=t},props:{storeFoodList:{type:Object,default:null},topshow:{type:Boolean,default:null},height:{type:String,default:"45vh"},width:{type:String,default:"100vw"}},watch:{storeFoodList:{handler:function(t,e){var i=this;this.tlist=[],this.flist=[],this.slist=[],this.flist=t.cartinfo.catelist,this.slist=t.cartinfo.goodslist,this.slist.map((function(t){i.tlist.push.apply(i.tlist,t.categoods),i.tlist.map((function(t){t.optionarray.forEach((function(e,a){e.checked=!1,t.optionarray[0].checked=!0,i.num>0&&i.checkedLabel(i.numberPeople)}))}))})),console.log(t.flag),1!==t.num&&t.num>1?this.calcSize():this.currentId=this.flist[0].id},deep:!0},topshow:{handler:function(t){this.calcSize(),this.sizeCalcState=!1},deep:!0}}},(0,o.default)(n,"mounted",(function(){this.calcSize()})),(0,o.default)(n,"onShow",(function(){this.onepic&&(this.onepoc=!1),this.calcSize()})),(0,o.default)(n,"methods",{changes:function(t,e){var i=this;c.default._post_form("&p=citydelivery&do=addShopCart&goodid=".concat(this.selectSpecification.id,"&specid=").concat(this.numberPeople.id,"&addtype=").concat("plus"==t.type?1:0),{},(function(e){if(0===e.errno){var a=e.data;i.num++,a.changenum=i.num,a.changemoney=a.changemoney*i.num,a.id=i.selectSpecification.id,uni.$emit("STOREPRICES",a),i.numberPeople.num=t.value}}),!1,(function(){}))},jbMsg:function(){},rotateAndScale:function(){this.animation.rotate(45).scale(2,2).step(),this.animationData=this.animation.export()},norotateAndScale:function(){this.animation.rotate(0).scale(1,1).step(),this.animationData=this.animation.export()},addShoping:function(){var t=this;c.default._post_form("&p=citydelivery&do=addShopCart&goodid=".concat(this.selectSpecification.id,"&specid=").concat(this.numberPeople.id,"&addtype=",1),{},(function(e){if(0===e.errno){var i=e.data;t.num++,t.numberPeople.num=1,i.changenum=t.num,i.changemoney=i.changemoney*t.num,i.id=t.selectSpecification.id,uni.$emit("STOREPRICES",i)}}),(function(t){console.log(t,123321)}),!1,(function(){}))},change:function(t,e,i,a){var n=this;console.log(99999999999999);var o=this;o.element=[],c.default._post_form("&p=citydelivery&do=addShopCart&goodid=".concat(e.id,"&specid=",0,"&addtype=").concat("plus"==t.type?1:0),{},(function(c){if(0==c.errno){var s=c.data;s.changenum=t.value,s.changemoney=s.changemoney*t.value,s.id=e.id,n.tlist.map((function(i,a){i.id==e.id&&(n.tlist[a].num=t.value)})),setTimeout((function(){var e=uni.createSelectorQuery().in(o).select("."+i);e.fields({size:!0,rect:!0,scrollOffset:!0},(function(e){o.element.push(e),e;var i=uni.createSelectorQuery().in(o).select(".cart");i.fields({size:!0,rect:!0,scrollOffset:!0},(function(e){o.element.push(e),e,"plus"==t.type&&o.$refs.jumpBall[a].$emit("childMethod",o.element)})).exec()})).exec()}),100),uni.$emit("STOREPRICES",s)}}),(function(t){console.log(t,102210)}),!1,(function(){}))},chanji:function(t,e,i,a){var n=this;console.log(t),c.default._post_form("&p=citydelivery&do=changeShopCart",{goodid:e.id,specid:0,num:t},(function(i){console.log(i),c.default._post_form("&p=citydelivery&do=cartinfo",{},(function(i){console.log(i);var a=i.data.list;uni.$emit("STOREPRICES",a),n.tlist.map((function(i,a){i.id==e.id&&(n.tlist[a].num=t)})),n.numberPeople.num=t}),!1)}),(function(t){}))},chankg:function(t,e){var i=this;console.log(e);var a={goodid:this.selectSpecification.id,specid:e.id,num:t};c.default._post_form("&p=citydelivery&do=changeShopCart",a,(function(e){console.log(e),c.default._post_form("&p=citydelivery&do=cartinfo",{},(function(e){console.log(e);var a=e.data.list;uni.$emit("STOREPRICES",a),i.numberPeople.num=t}),!1)}))},tabtap:function(t){var e=this;this.calcSize(),setTimeout((function(){e.record=!1,e.currentId=t.id;var i=e.slist.findIndex((function(e){return e.pid===t.id}));e.tabScrollTop=e.slist[i].top}))},asideScroll:function(t){var e=this;this.record?(this.calcSize(),setTimeout((function(){var i=t.detail.scrollTop,a=e.slist.filter((function(t){return t.top<=i})).reverse();a.length>0&&(e.currentId=a[0].pid)}))):this.record=!0},calcSize:function(){var t=this,e=0;this.slist.forEach((function(i){var a=uni.createSelectorQuery().in(t).select("#main-"+i.id);a.fields({size:!0,rect:!0,scrollOffset:!0},(function(t){i.top=e,e+=t.height,i.bottom=e})).exec()})),this.sizeCalcState=!0},navToList:function(t,e){c.default.navigationTo({url:"pages/subPages2/businessCenter/foodIntroduced/foodIntroduced?id="+e.id+"&num="+e.num+"&width="+this.width+"&height="+this.height})},popupOpen:function(t){var e=this;this.showBuyMenu=!0,this.selectSpecification=t,console.log(t),t.optionarray.forEach((function(t){t.checked&&(e.numberPeople=t)}))},sellout:function(){},onToggleTrade:function(){this.showBuyMenu=!this.showBuyMenu},checkedLabel:function(t){this.numberPeople=t,this.selectSpecification.optionarray.forEach((function(e){e.checked=!1,e.id==t.id&&(e.checked=!0)}))}}),n);e.default=d},db2a:function(t,e,i){"use strict";i.r(e);var a=i("a6fc"),n=i.n(a);for(var o in a)"default"!==o&&function(t){i.d(e,t,(function(){return a[t]}))}(o);e["default"]=n.a},f221:function(t,e,i){"use strict";var a;i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return o})),i.d(e,"a",(function(){return a}));var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"content"},[i("v-uni-scroll-view",{staticClass:"left-aside",attrs:{"scroll-y":!0}},t._l(t.flist,(function(e){return i("v-uni-view",{key:e.id,staticClass:"f-item",class:{active:e.id===t.currentId},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.tabtap(e)}}},[t._v(t._s(e.name))])})),1),i("v-uni-scroll-view",{staticClass:"right-aside",attrs:{"scroll-with-animation":!0,"scroll-y":!0,"scroll-top":t.tabScrollTop},on:{scroll:function(e){arguments[0]=e=t.$handleEvent(e),t.asideScroll.apply(void 0,arguments)}}},t._l(t.slist,(function(e){return i("v-uni-view",{key:e.id,staticClass:"s-list",attrs:{id:"main-"+e.id}},[i("v-uni-text",{staticClass:"s-item"},[t._v(t._s(e.catename))]),i("v-uni-view",{staticClass:"t-list"},t._l(t.tlist,(function(a,n){return a.pid===e.id?i("v-uni-view",{key:a.id,staticClass:"t-item",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.navToList(e.id,a)}}},[i("v-uni-view",{staticStyle:{flex:"3",position:"relative",overflow:"hidden"}},[i("v-uni-image",{staticStyle:{width:"150upx",height:"150upx","border-radius":"10upx"},attrs:{src:a.thumb,mode:"aspectFill"}}),"2"==a.vipstatus?i("v-uni-view",{staticClass:"f-w viptag iconfont icon-choicenessfill"}):t._e()],1),i("v-uni-view",{staticStyle:{flex:"7","padding-left":"20upx"}},[i("v-uni-view",{staticClass:"f-32 f-w",staticStyle:{color:"#333333",width:"10em",overflow:"hidden","white-space":"nowrap","text-overflow":"ellipsis"}},[t._v(t._s(a.name))]),i("v-uni-view",{staticStyle:{color:"#999999",padding:"16upx 0"}},[t._v("已售"+t._s(a.salenum)),"1"==a.vipstatus?i("v-uni-view",{staticClass:"dis-flex flex-y-center member-coupon-view"},[i("v-uni-view",{staticClass:"member-price-label f-22"},[t._v("会员")]),i("v-uni-view",{staticClass:"f-22 col-f onelist-hidden b-0 coupon-price-2"},[t._v("-"),i("v-uni-text",{staticClass:"member-coupon-price"},[t._v(t._s(a.vipdiscount))]),t._v("元")],1)],1):t._e(),"2"==a.vipstatus?i("v-uni-view",{staticClass:"member-coupon-view f-22",staticStyle:{"background-color":"#efd68f","border-radius":"7upx",padding:"5upx 10upx",color:"#333333"}},[t._v("会员专享")]):t._e()],1),i("v-uni-view",{staticClass:"dis-flex"},[i("v-uni-view",{staticClass:"flex-box"},[i("v-uni-text",{staticClass:"f-26",staticStyle:{color:"#F44F44"}},[t._v("¥"+t._s(a.price))]),Number(a.oldprice)>0?i("v-uni-text",{staticClass:"f-20",staticStyle:{"text-decoration":"line-through",color:"#999999","padding-left":"10upx"}},[t._v("¥"+t._s(a.oldprice))]):t._e()],1),i("v-uni-view",{staticClass:"flex-box"},[i("v-uni-view",{staticStyle:{float:"right"}},[t._e(),i("jumpBall",{ref:"jumpBall",refInFor:!0,on:{msg:function(e){arguments[0]=e=t.$handleEvent(e),t.jbMsg.apply(void 0,arguments)}}}),a.optionarray.length||1===a.saleoverflag?a.optionarray.length&&1!==a.saleoverflag?i("v-uni-view",{staticStyle:{padding:"10upx 20upx","border-radius":"10upx","background-color":"#FF4444",color:"#FFFFFF"},on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.popupOpen(a)}}},[t._v("选规格")]):1==a.saleoverflag?i("v-uni-view",{staticStyle:{padding:"10upx 20upx","border-radius":"10upx","background-color":"#999999",color:"#FFFFFF"},on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.sellout.apply(void 0,arguments)}}},[t._v("已售罄")]):t._e():i("tui-numberbox",{class:"admin"+n,attrs:{value:t.tlist[n].num,width:40,min:0},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.change(e,a,"admin"+n,n)},chanji:function(e){arguments[0]=e=t.$handleEvent(e),t.chanji(e,a,"cv"+n,n)},click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e)}}})],1)],1)],1)],1)],1):t._e()})),1)],1)})),1),i("v-uni-view",{staticClass:"foot"},[i("v-uni-view",{staticClass:"cart"})],1),i("popup-view",{attrs:{show:t.showBuyMenu,type:"center"},on:{clickmask:function(e){arguments[0]=e=t.$handleEvent(e),t.onToggleTrade.apply(void 0,arguments)}}},[i("v-uni-view",{staticStyle:{"background-color":"#FFFFFF","border-radius":"15upx"}},[i("v-uni-view",{staticClass:"footName f-28",staticStyle:{padding:"20upx 20upx 0"}},[t._v(t._s(t.selectSpecification.name))]),i("v-uni-view",{staticClass:"p-top-40 f-24",staticStyle:{color:"#999999",padding:"40upx 20upx 0upx"}},[t._v("规格")]),i("v-uni-view",{staticClass:"dis-flex",staticStyle:{padding:"0 20upx 30upx","flex-wrap":"wrap",overflow:"auto","max-height":"40vh"}},t._l(t.selectSpecification.optionarray,(function(e,a){return i("v-uni-view",{key:a,class:e.checked?"checked":"noChecked",staticStyle:{flex:"0.01",padding:"10upx 30upx",margin:"20upx 10upx 20upx 0","text-align":"center",width:"100upx","min-width":"100upx"},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.checkedLabel(e)}}},[t._v(t._s(e.name))])})),1),i("v-uni-view",{staticStyle:{"background-color":"#F8F8F8",padding:"10upx 20upx"}},[i("v-uni-text",{staticClass:"f-26",staticStyle:{color:"#999999"}},[t._v("已选规格:")]),i("v-uni-text",{staticClass:"f-26"},[t._v("("+t._s(t.numberPeople.name)+")")])],1),i("v-uni-view",{staticClass:"dis-flex",staticStyle:{padding:"0 20upx"}},[i("v-uni-view",{staticStyle:{flex:"7",padding:"30upx 0"}},[i("v-uni-text",{staticClass:"f-30 f-w",staticStyle:{color:"#FF4444"}},[t._v("¥"+t._s(t.numberPeople.price))]),i("v-uni-text",{staticClass:"f-24",staticStyle:{"text-decoration":"line-through",color:"#999999","padding-left":"10upx"}},[t._v("¥"+t._s(t.numberPeople.oldprice))])],1),i("v-uni-view",{staticStyle:{flex:"3","padding-top":"30upx"}},[0==t.numberPeople.num?i("v-uni-button",{staticStyle:{"font-size":"20upx"},attrs:{type:"warn",size:"mini"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.addShoping.apply(void 0,arguments)}}},[t._v("加入购物车")]):t._e(),t.numberPeople.num>0?i("tui-numberbox",{attrs:{value:t.numberPeople.num,width:60,min:0},on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e)},change:function(e){arguments[0]=e=t.$handleEvent(e),t.changes(e,t.numberPeople)},chankg:function(e){arguments[0]=e=t.$handleEvent(e),t.chankg(e,t.numberPeople)}}}):t._e()],1)],1)],1)],1)],1)},o=[]},f30b:function(t,e,i){"use strict";i.r(e);var a=i("f221"),n=i("db2a");for(var o in n)"default"!==o&&function(t){i.d(e,t,(function(){return n[t]}))}(o);i("2afb");var c,s=i("f0c5"),l=Object(s["a"])(n["default"],a["b"],a["c"],!1,null,"0428a1aa",null,!1,a["a"],c);e["default"]=l.exports}}]);