(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-subPages2-newBuyOrder-buyOrder"],{"002c":function(t,e,i){"use strict";i.r(e);var o=i("05a7"),n=i.n(o);for(var a in o)"default"!==a&&function(t){i.d(e,t,(function(){return o[t]}))}(a);e["default"]=n.a},"056e":function(t,e,i){var o=i("2735");"string"===typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);var n=i("4f06").default;n("463a4320",o,!0,{sourceMap:!1,shadowMode:!1})},"05a7":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o={data:function(){return{}},mounted:function(){},computed:{loadImage:function(){var t=this,e=t.$store.state.appInfo.loading;return e||""}}};e.default=o},"0b44":function(t,e,i){var o=i("14b2");"string"===typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);var n=i("4f06").default;n("4a2e5f60",o,!0,{sourceMap:!1,shadowMode:!1})},"14b2":function(t,e,i){var o=i("24fb");e=o(!1),e.push([t.i,".loadlogo-container[data-v-23fdce49]{width:100%;height:100%;background-color:#fff;position:fixed;z-index:999}.loadlogo[data-v-23fdce49]{width:80px;height:80px;\n\t/* margin: -60px 0 0 -60px; */position:fixed;top:50%;left:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);overflow:hidden}.loadlogo .image[data-v-23fdce49]{width:100%;height:100%;overflow:hidden}",""]),t.exports=e},"215f":function(t,e,i){"use strict";i.r(e);var o=i("44ef"),n=i("38ac");for(var a in n)"default"!==a&&function(t){i.d(e,t,(function(){return n[t]}))}(a);i("a3b8");var s,r=i("f0c5"),l=Object(r["a"])(n["default"],o["b"],o["c"],!1,null,"77c1c28d",null,!1,o["a"],s);e["default"]=l.exports},2735:function(t,e,i){var o=i("24fb");e=o(!1),e.push([t.i,".qrBottomTip[data-v-6c1d320e]{margin-top:%?30?%;text-align:center}.qrBottomTip > uni-text[data-v-6c1d320e]{font-size:%?24?%;color:#666}.qrBottomImage[data-v-6c1d320e]{margin:%?50?% auto 0 auto;width:%?300?%;height:%?300?%}.qrBottomImage > uni-image[data-v-6c1d320e]{width:%?300?%;height:%?300?%}.qrBottomTitle[data-v-6c1d320e]{border:%?1?% solid transparent;width:%?750?%;height:%?480?%;background:#fff}.qrBottomButton[data-v-6c1d320e]{margin:%?20?% auto 0 auto;width:%?700?%;height:%?80?%;text-align:center;background:#f5f5f5;border:%?1?% solid #ccc;border-radius:%?10?%}.qrBottomButton > uni-text[data-v-6c1d320e]{line-height:%?80?%;font-size:%?30?%;color:#333}.qrBottomFoot[data-v-6c1d320e]{box-shadow:%?10?% %?20?% %?20?% %?20?% #f5f5f5;border:%?1?% solid transparent;width:%?750?%;height:%?120?%;background:#fff;text-align:center}.qrBottom[data-v-6c1d320e]{border:%?1?% solid transparent;width:%?750?%;height:%?600?%;background:#f6f6f6}.followTitleClose[data-v-6c1d320e]{position:absolute;top:0;right:0;width:%?70?%;height:%?70?%}.followTitleClose > uni-image[data-v-6c1d320e]{width:%?70?%;height:%?70?%}.qrCenterMainPackage[data-v-6c1d320e]{padding:%?30?%}.qrCenterMainPackage > uni-image[data-v-6c1d320e]{width:%?520?%;height:%?510?%}.qrCenterMain[data-v-6c1d320e]{height:%?570?%;background:#fff}.qrCenterTitle[data-v-6c1d320e]{height:%?80?%;text-align:center}.qrCenterTitle > uni-text[data-v-6c1d320e]{line-height:%?80?%;font-size:%?30?%;color:#333}.qrCenter[data-v-6c1d320e]{overflow:hidden;border-radius:%?10?%;width:%?580?%;height:%?650?%;background:#eee}.followButton[data-v-6c1d320e]{margin-left:%?10?%;display:inline-block;width:%?130?%;padding:0 %?10?%;height:%?60?%;border-radius:%?10?%;vertical-align:middle;text-align:center;background:#f44}.followButton > uni-text[data-v-6c1d320e]{font-size:%?28?%;font-family:PingFang SC;font-weight:500;color:#fff;line-height:%?60?%}.followTitlePackage[data-v-6c1d320e]{position:relative;padding:%?15?% %?30?%}.followInfomation[data-v-6c1d320e]{width:%?400?%;margin-left:%?20?%;vertical-align:middle;display:inline-block}.followInfomation > uni-view[data-v-6c1d320e]{width:%?400?%}.followInfomation > uni-view > uni-text[data-v-6c1d320e]{display:inline-block;font-size:%?28?%;font-family:PingFang SC;font-weight:500;color:#fff}.followText[data-v-6c1d320e]{font-size:%?28?%;font-family:PingFang SC;font-weight:500;color:#f44!important}.followImage[data-v-6c1d320e]{vertical-align:middle;display:inline-block;width:%?100?%;height:%?100?%;border-radius:%?10?%;overflow:hidden}.followImage > uni-image[data-v-6c1d320e]{width:%?100?%;height:%?100?%}.follow[data-v-6c1d320e]{font-size:0}.followTitle[data-v-6c1d320e]{z-index:200;position:fixed;top:0;left:0;width:%?750?%;min-height:%?130?%;background:#000}",""]),t.exports=e},"312f":function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return o}));var o={jyfParser:i("215f").default},n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.loadlogo?i("loadlogo"):i("v-uni-view",{staticClass:"buyOrder",style:{height:t.phoneHight}},[i("far-bottom"),i("v-uni-view",{staticClass:"content padding-box-all",staticStyle:{"padding-top":"66upx"}},[i("v-uni-form",[3!=t.type&&0!=t.useInfo.payonline&&1!=t.type?i("v-uni-view",{staticClass:"gross-amount"},[i("v-uni-view",{staticClass:"amount-img"},[i("v-uni-image",{staticStyle:{width:"100%",height:"100%"},attrs:{src:t.useInfo.storelogo,mode:""}})],1),i("v-uni-view",{staticClass:"amount-title"},[t._v(t._s(t.useInfo.name))]),i("v-uni-view",{staticClass:"amount-je"},[t._v("金额")]),i("v-uni-view",{staticClass:"amount-input dis-flex"},[i("v-uni-view",{staticClass:"amount-icon",staticStyle:{flex:"0.1"}},[t._v("¥")]),i("v-uni-view",{staticStyle:{flex:"0.9"}},[i("v-uni-input",{staticClass:"t-r amount-input-l",attrs:{type:"digit","placeholder-style":"color: #999999;font-weight: 400;font-size: 16px;",placeholder:"输入支付金额",value:""},on:{input:function(e){arguments[0]=e=t.$handleEvent(e),t.fpNumInput.apply(void 0,arguments)}},model:{value:t.consumPrice,callback:function(e){t.consumPrice=e},expression:"consumPrice"}})],1)],1),10!=Number(t.useInfo.discount)?i("v-uni-view",{staticClass:"dis-flex amount-radio"},[i("v-uni-view",{staticClass:"radio-name"},[t._v("输入不参与优惠金额")]),i("v-uni-view",{staticClass:"radio-radio",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.iScouponCheck.apply(void 0,arguments)}}},[i("v-uni-radio-group",{attrs:{name:"couponPrice"}},[i("v-uni-radio",{attrs:{value:"radio1",checked:t.iScoupon,color:"#FF4444"}})],1)],1)],1):t._e(),t.iScoupon?i("v-uni-view",{staticClass:"amount-num"},[i("v-uni-view",{staticClass:"dis-flex"},[i("v-uni-view",{staticClass:"amount-icon"},[t._v(t._s("不参与优惠金额(元)")),i("v-uni-view",{staticClass:"f-20 col-9",staticStyle:{"padding-top":"10upx"}},[t._v(t._s(t.useInfo.limit))])],1),i("v-uni-view",{staticStyle:{flex:"0.5"}},[i("v-uni-input",{staticClass:"t-r",attrs:{type:"digit",value:"",name:"notconsumpPrice","placeholder-style":"color: #999999;font-weight: 400;",placeholder:"请输入具体金额",disabled:!t.iScoupon},model:{value:t.notconsumPrice,callback:function(e){t.notconsumPrice=e},expression:"notconsumPrice"}})],1)],1)],1):t._e()],1):t._e(),0!=t.useInfo.payonline&&1!=t.type?i("v-uni-view",{staticClass:"preferential b-f"},[t.consumPrice>0&&1==t.useInfo.redpackflag?i("v-uni-view",{staticClass:"dis-flex bottom-bor"},[i("v-uni-view",{staticClass:"regpack"},[t._v("红包优惠")]),i("v-uni-view",{staticClass:"regpacknum",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.openRegpack.apply(void 0,arguments)}}},[i("v-uni-text",[t._v(t._s(t.redPackageNum))]),i("v-uni-text",{staticClass:"iconfont icon-right",staticStyle:{color:"#999999","font-size":"26upx"}})],1)],1):t._e(),10!=Number(t.useInfo.discount)||0!=t.vipCouponPrice?i("v-uni-view",{staticClass:"bottom-bor dis-flex"},[i("v-uni-view",{staticClass:"regpack"},[t._v(t._s(1==t.useInfo.levelarmy?"拥军减免":"会员减免"))]),i("v-uni-view",{staticClass:"regpacknum"},[0==t.useInfo.tip?i("v-uni-text",[t._v(t._s(0==t.vipCouponPrice?t.useInfo.discount+"折":"-¥"+t.vipCouponPrice))]):i("v-uni-text",[t._v(t._s(t.useInfo.tip))])],1)],1):t._e(),t.useInfo.payinrate&&t.maxPointsDeduction>0?i("v-uni-view",{staticClass:"bottom-bor",staticStyle:{padding:"30upx 0"}},[i("v-uni-view",["2"==t.type||"1"==t.type&&"0"==t.payonline||""==t.type?i("v-uni-view",{staticClass:" dis-flex flex-x-between flex-y-center"},[i("v-uni-view",{staticClass:"dis-flex flex-y-center"},[i("v-uni-view",{staticClass:"f-28 col-3 m-right10"},[t._v(t._s(t.TextSubstitution.credittext)+"抵扣")]),i("v-uni-switch",{staticStyle:{"padding-left":"20upx",transform:"scale(0.7)"},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.switch1Change.apply(void 0,arguments)}}})],1),t.checkedjifen?t._e():i("v-uni-view",{staticClass:"mitigate-price f-24",staticStyle:{"line-height":"30upx"}},[t._v("最多抵扣"+t._s(Math.round(100*Number(t.maxPointsDeduction))/100)+"元")]),t.checkedjifen?i("v-uni-view",{staticClass:"mitigate-price f-28",staticStyle:{"line-height":"30upx",color:"#FF4444","font-size":"28upx"}},[t._v("-¥"+t._s(Math.round(100*Number(t.maxPointsDeduction))/100))]):t._e()],1):t._e()],1)],1):t._e(),t.consumPrice>0&&Number(t.overprice)?i("v-uni-view",{staticClass:"bottom-bor dis-flex"},[i("v-uni-view",{staticClass:" flex-y-center",staticStyle:{flex:"0.5"}},[i("v-uni-view",{staticClass:"f-30 col-3 m-right10"},[t._v(t._s(t.useInfo.fullreducelist.title))])],1),i("v-uni-view",{staticClass:"mitigate-price f-26 t-r",staticStyle:{flex:"0.5","line-height":"40upx",color:"#FF4444"}},[t._v("-¥"+t._s(t.overprice))])],1):t._e(),"3"!==t.type?i("v-uni-view",{staticClass:"bottom-bor"},[i("v-uni-view",{staticClass:"settlement t-c"},[i("v-uni-view",{staticClass:"f-32 dis-il-block",staticStyle:{"line-height":"68upx","vertical-align":"top"}},[t._v("¥")]),i("v-uni-text",[t._v(t._s(Math.round(100*Number(t.buyPrice))/100))])],1)],1):t._e(),3!=t.type?i("v-uni-button",{staticClass:"submit-btn t-c bor-radius-10upx f-28 col-f",class:"1"==t.buttonType?"":"cantClick",attrs:{formType:"submit","hover-class":"hoverButton"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.usePayOnline.apply(void 0,arguments)}}},[t._v(t._s(""==t.type?"和店员已确认,立即买单":"1"==t.type||"2"==t.type?"确认核销使用":"点击使用礼包"))]):t._e(),3!=t.type?i("v-uni-view",{staticClass:"t-c",staticStyle:{padding:"30upx 0",color:"#999999","font-size":"24upx"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.shopShowrich=!0}}},[t._v("买单说明"),i("v-uni-text",{staticClass:"iconfont icon-right",staticStyle:{color:"#999999","font-size":"24upx"}})],1):t._e()],1):t._e(),3!=t.type&&0!=t.useInfo.payonline&&1!=t.type?i("v-uni-view",{staticClass:"t-c col-9 f-24",staticStyle:{padding:"20upx 0"}},[i("v-uni-text",{staticClass:"iconfont icon-gantanhao f-24"}),t._v("买单仅限于到店支付，请确认金额后提交")],1):t._e(),"2"==t.type||"1"==t.type&&"0"==t.payonline||(t.type,0)?i("v-uni-view",{staticClass:"input-box b-f"},[i("v-uni-view",{staticClass:"consumption-box-input dis-flex flex-x-between flex-y-center bor-radius-10upx"},[i("v-uni-view",{staticClass:"f-30 col-3 nwrap"},[t._v("消费总金额")]),i("v-uni-view",{staticClass:"input-style"},[i("v-uni-input",{staticClass:"t-r",staticStyle:{background:"white",width:"400upx",height:"80upx","font-size":"40upx"},attrs:{type:"digit",value:"",name:"consumpPrice"},model:{value:t.consumPrice,callback:function(e){t.consumPrice=e},expression:"consumPrice"}})],1)],1),[i("v-uni-view",{staticClass:"couponPrice-box dis-flex flex-y-center"},[i("v-uni-view",{staticClass:"radio m-right10",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.iScouponCheck.apply(void 0,arguments)}}},[i("v-uni-radio-group",{attrs:{name:"couponPrice"}},[i("v-uni-radio",{attrs:{value:"radio1",checked:t.iScoupon,color:"#27CE00"}})],1)],1),i("v-uni-view",{staticClass:"f-28 col-c"},[t._v(t._s(t.useInfo.limit))])],1),t.iScoupon?[i("v-uni-view",{staticClass:"consumption-box-input dis-flex flex-x-between flex-y-center bor-radius-10upx"},[i("v-uni-view",{staticClass:"f-30 col-3"},[t._v("不可优惠金额")]),i("v-uni-view",{staticClass:"input-style"},[i("v-uni-input",{staticClass:"t-r",staticStyle:{background:"white"},attrs:{type:"digit",value:"",name:"notconsumpPrice",disabled:!t.iScoupon},model:{value:t.notconsumPrice,callback:function(e){t.notconsumPrice=e},expression:"notconsumPrice"}})],1)],1)]:t._e()]],2):t._e(),3==t.type||t.useInfo.pack?i("v-uni-view",{staticClass:"mitigate-pocket b-f p-r",staticStyle:{"margin-bottom":"30upx"}},[t._l(t.useInfo.pack,(function(e,o){return i("v-uni-view",{staticClass:"mitigate dis-flex flex-x-between flex-y-center flex-warp"},[i("v-uni-view",[i("v-uni-view",{staticClass:"f-30 col-3 m-right10"},[t._v(t._s(e.name))]),i("v-uni-view",{staticClass:"f-24 col-c"}),i("v-uni-view",{staticClass:"f-24",staticStyle:{flex:"1",color:"#999999","padding-top":"10upx"}},[i("v-uni-text",[t._v(t._s(e.limit)+",")]),i("v-uni-text",[t._v("剩余"+t._s(e.surplus)+"次")])],1)],1),i("v-uni-view",{staticClass:"mitigate-price f-24"},[i("v-uni-view",{staticClass:"switch",class:-1==t.packids.indexOf(e.id)?"grayLine":""},[-1!==t.packids.indexOf(e.id)?i("v-uni-view",{staticClass:"switchOn",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.checkLb(e.id)}}},[i("span"),i("v-uni-view")],1):t._e(),-1==t.packids.indexOf(e.id)?i("v-uni-view",{staticClass:"switchOff",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.checkLb(e.id)}}},[i("v-uni-view"),i("span")],1):t._e()],1)],1)],1)})),"2"==t.type||"1"==t.type&&"0"==t.payonline?i("v-uni-view",{staticClass:"mitigate-pocket-fgx"},[i("v-uni-view",{staticClass:"dotLeft"}),i("v-uni-view",{staticClass:"dotRight"})],1):t._e(),"2"==t.type||"1"==t.type&&"0"==t.payonline||""==t.type?i("v-uni-view",{staticClass:"mitigate dis-flex flex-x-between flex-y-center"},[i("v-uni-view",{staticClass:"dis-flex flex-y-center"},[i("v-uni-view",{staticClass:"f-30 col-3 m-right10"},[t._v("会员减免")]),"0"==t.useInfo.tip?i("v-uni-view",{staticClass:"f-24 col-c"},[t._v("会员特权"+t._s(t.useInfo.discount)+"折")]):i("v-uni-view",{staticClass:"f-24 col-c"},[t._v(t._s(t.useInfo.tip))])],1),i("v-uni-view",{staticClass:"mitigate-price f-24"},[t._v(t._s(t.vipCouponPrice)+"元")])],1):t._e(),t.useInfo.payinrate&&t.maxPointsDeduction>0?i("v-uni-view",{staticClass:"out-pocket"},["2"==t.type||"1"==t.type&&"0"==t.payonline||""==t.type?i("v-uni-view",{staticClass:"mitigate dis-flex flex-x-between flex-y-center"},[i("v-uni-view",{staticClass:"dis-flex flex-y-center"},[i("v-uni-view",{staticClass:"f-30 col-3 m-right10"},[t._v(t._s(t.TextSubstitution.credittext)+"抵扣")]),i("v-uni-switch",{staticStyle:{"padding-left":"20upx",transform:"scale(0.7)"},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.switch1Change.apply(void 0,arguments)}}})],1),i("v-uni-view",{staticClass:"mitigate-price f-24",staticStyle:{"line-height":"30upx"}},[t._v("最多抵扣"+t._s((parseInt(100*t.maxPointsDeduction)/100).toFixed(2))+"元")])],1):t._e()],1):t._e(),t.useInfo.fullreducelist&&t.flag?i("v-uni-view",{staticClass:"out-pocket"},["2"==t.type||"1"==t.type&&"0"==t.payonline||""==t.type?i("v-uni-view",{staticClass:"mitigate dis-flex flex-x-between flex-y-center"},[i("v-uni-view",{staticClass:"dis-flex flex-y-center"},[i("v-uni-view",{staticClass:"f-30 col-3 m-right10"},[t._v(t._s(t.useInfo.fullreducelist.title))])],1),i("v-uni-view",{staticClass:"mitigate-price f-24"},[t._v(t._s(t.overprice)+"元")])],1):t._e()],1):t._e(),i("v-uni-view",{staticClass:"out-pocket"},["2"==t.type||"1"==t.type&&"0"==t.payonline||""==t.type?i("v-uni-view",{staticClass:"mitigate dis-flex flex-x-between flex-y-center"},[i("v-uni-view",{staticClass:"dis-flex flex-y-center"},[i("v-uni-view",{staticClass:"f-30 col-3 m-right10"},[t._v("实付金额")])],1),i("v-uni-view",{staticClass:"mitigate-price f-24"},[t._v(t._s((parseInt(100*t.buyPrice)/100).toFixed(2))+"元")])],1):t._e()],1)],2):t._e(),3==t.type||0==t.useInfo.payonline?i("v-uni-view",{staticClass:"store-title f-24 t-c"},[i("span",{staticClass:"useName"},[t._v(t._s(""!==t.type?"持卡人":"商户")+":"+t._s(t.useInfo.name))])]):t._e(),(t.type,t._e()),3==t.type||0==t.useInfo.payonline||1==t.type?i("v-uni-button",{staticClass:"submit-btn t-c bor-radius-10upx f-28 col-f",class:"1"==t.buttonType?"":"cantClick",attrs:{formType:"submit","hover-class":"hoverButton"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.usePayOnline.apply(void 0,arguments)}}},[t._v(t._s(""==t.type?"和店员已确认,立即买单":"1"==t.type||"2"==t.type?"确认核销使用":"点击使用礼包"))]):t._e()],1)],1),i("PopManager",{attrs:{show:t.shopShow,type:t.showType}},[i("v-uni-view",{staticClass:"shopShow",style:{height:t.phoneHight}},t._l(t.useInfo.shop_list,(function(e,o){return i("v-uni-view",{staticClass:"checkStoreMb",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.closeShopShow(e.id)}}},[i("v-uni-view",{staticClass:"checkStoreMbPackage"},[i("v-uni-view",{staticClass:"logoMb"},[i("v-uni-image",{attrs:{src:e.logo}})],1),i("v-uni-view",{staticClass:"infoMb"},[i("v-uni-view",[i("v-uni-view",[i("span",[t._v(t._s(e.storename))])]),i("v-uni-view",[i("span",[t._v(t._s(e.address))])])],1),i("v-uni-image",{attrs:{src:t.imgfixUrls+"merchant/right.svg"}})],1)],1)],1)})),1)],1),i("PopManager",{attrs:{show:t.shopShowrich,type:"bottom"},on:{clickmask:function(e){arguments[0]=e=t.$handleEvent(e),t.shopShowrich=!1}}},[i("v-uni-view",{staticClass:"Showrichtext"},[i("v-uni-view",{staticClass:"Showrichtext-title"},[t._v("买单说明")]),i("v-uni-view",{staticStyle:{overflow:"auto"}},[i("jyf-parser",{ref:"article",attrs:{domain:"https://6874-html-foe72-1259071903.tcb.qcloud.la","gesture-zoom":!0,"lazy-load":!0,selectable:!0,"show-with-animation":!0,"use-anchor":!0,html:t.useInfo.describe}})],1)],1)],1),i("follow",{attrs:{followShow:t.followShow,followType:t.followType,followTitleShow:t.followTitleShow},on:{clickmask:function(e){arguments[0]=e=t.$handleEvent(e),t.openQrShow.apply(void 0,arguments)},closeFollowPop:function(e){arguments[0]=e=t.$handleEvent(e),t.closeFollowPop.apply(void 0,arguments)},closeFollowTitle:function(e){arguments[0]=e=t.$handleEvent(e),t.closeFollowTitle.apply(void 0,arguments)}}}),t.useInfo.describe&&3==t.type||0==t.useInfo.payonline?i("v-uni-view",{staticClass:"buyOrderParse b-f padding-box-all"},[i("v-uni-view",{staticClass:"buyOrderParse-title f-28 col-3 t-c m-btm40"},[t._v("买单说明")]),i("jyf-parser",{ref:"article",attrs:{domain:"https://6874-html-foe72-1259071903.tcb.qcloud.la","gesture-zoom":!0,"lazy-load":!0,selectable:!0,"show-with-animation":!0,"use-anchor":!0,html:t.useInfo.describe}})],1):t._e(),t.redPagList.length>0||t.noredPagList.length>0?i("v-uni-view",[i("redPagDown",{ref:"redPagDown",attrs:{noorderSubmitInfo:t.noredPagList,orderSubmitInfo:t.redPagList},on:{closePops:function(e){arguments[0]=e=t.$handleEvent(e),t.redPagClosePop(t.event)},priceis:function(e){arguments[0]=e=t.$handleEvent(e),t.prices.apply(void 0,arguments)}}})],1):t._e()],1)},a=[]},"38ac":function(t,e,i){"use strict";i.r(e);var o=i("967a"),n=i.n(o);for(var a in o)"default"!==a&&function(t){i.d(e,t,(function(){return o[t]}))}(a);e["default"]=n.a},"44ef":function(t,e,i){"use strict";var o;i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return o}));var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",[t.nodes.length?t._e():t._t("default"),i("v-uni-view",{style:t.showAm+(t.selectable?";user-select:text;-webkit-user-select:text":""),attrs:{id:"top"}},[i("div",{attrs:{id:"rtf"+t.uid}})])],2)},a=[]},"4c6e":function(t,e,i){var o=i("9246");"string"===typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);var n=i("4f06").default;n("4dd87e95",o,!0,{sourceMap:!1,shadowMode:!1})},"538a":function(t,e,i){var o=i("24fb");e=o(!1),e.push([t.i,"@-webkit-keyframes show-data-v-77c1c28d{0%{opacity:0}100%{opacity:1}}@keyframes show-data-v-77c1c28d{0%{opacity:0}100%{opacity:1}}\n\n\n\n\n",""]),t.exports=e},"864b":function(t,e,i){"use strict";var o;i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return o}));var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",[i("v-uni-view",{staticClass:"loadlogo-container"},[i("v-uni-view",{staticClass:"loadlogo"},[i("v-uni-image",{staticClass:"image",attrs:{src:t.loadImage||t.imgfixUrls+"loadlogo.svg",mode:"aspectFill"}})],1)],1)],1)},a=[]},9246:function(t,e,i){var o=i("24fb");e=o(!1),e.push([t.i,".cantClick[data-v-966051a2]{pointer-events:none!important}.dotLeft[data-v-966051a2]{right:%?47?%;position:relative;bottom:%?14?%;display:inline-block;width:%?30?%;height:%?30?%;border-radius:50%;background:#f0edf4}.dotRight[data-v-966051a2]{left:%?47?%;position:relative;bottom:%?14?%;display:inline-block;width:%?30?%;height:%?30?%;border-radius:50%;background:#f0edf4}.nwrap[data-v-966051a2]{white-space:nowrap}.switchOn > uni-view[data-v-966051a2]{width:%?28?%;height:%?28?%;background:#f44;box-shadow:%?0?% %?2?% %?6?% %?0?% rgba(255,68,68,.35);border-radius:50%}.grayLine[data-v-966051a2]{border:%?2?% solid #ccc!important}.switchOff > uni-view[data-v-966051a2]{width:%?28?%;height:%?28?%;background:#ccc;box-shadow:%?0?% %?2?% %?6?% %?0?% #ccc;border-radius:50%}.switch[data-v-966051a2]{width:%?80?%;height:%?40?%;border:%?2?% solid #f44;border-radius:%?20?%}.switch > uni-view[data-v-966051a2]{padding:%?6?%;display:flex;justify-content:space-between}.useName[data-v-966051a2]{color:#f44;font-size:%?24?%}.infoMb[data-v-966051a2]{width:%?550?%;margin-left:%?20?%;display:inline-block;vertical-align:top}.infoMb > uni-view[data-v-966051a2]{vertical-align:middle;display:inline-block}.infoMb > uni-view > uni-view:nth-child(1) > span[data-v-966051a2]{font-size:%?28?%;font-weight:700;color:#333}.infoMb > uni-view > uni-view:nth-child(2) > span[data-v-966051a2]{display:inline-block;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;width:%?520?%;font-size:%?24?%;color:#999}.infoMb > uni-image[data-v-966051a2]{margin-top:%?40?%;float:right;vertical-align:middle;width:%?25?%;height:%?30?%}.logoMb[data-v-966051a2]{vertical-align:top;display:inline-block}.logoMb > uni-image[data-v-966051a2]{height:%?100?%;width:%?100?%}.shopShow[data-v-966051a2]{background:#fff;width:%?750?%}uni-page-body[data-v-966051a2]{background-color:#f9f9f9}.buyOrder[data-v-966051a2]{background-color:#f9f9f9}.checkStoreMbPackage[data-v-966051a2]{border-bottom:%?1?% solid grey;padding:%?30?%}.input-box[data-v-966051a2]{padding:%?20?%;border:1px solid #cfced3;box-shadow:0 0 %?10?% %?4?% #cfced3;z-index:2;margin-top:%?4?%;position:relative}.input-box .consumption-box-input[data-v-966051a2]{background-color:#f4f4f6;height:%?100?%;padding:0 %?20?%;box-shadow:0 0 %?10?% #f4f4f6}.input-box .couponPrice-box[data-v-966051a2]{padding:0 %?10?%;margin:%?30?% 0}.gross-amount[data-v-966051a2]{padding:%?30?% %?30?% 0;background-color:#fff;border-radius:%?10?%;position:relative;margin-bottom:%?20?%}.gross-amount .amount-title[data-v-966051a2]{font-weight:700;color:#000;padding-left:%?160?%}.gross-amount .amount-img[data-v-966051a2]{width:%?120?%;height:%?120?%;border-radius:%?10?%;position:absolute;top:%?-26?%;left:%?30?%}.gross-amount .amount-img > uni-image[data-v-966051a2]{width:%?120?%;height:%?120?%;border-radius:%?10?%}.gross-amount .amount-je[data-v-966051a2]{font-size:%?24?%;font-weight:700;color:#999;padding:%?50?% 0 %?30?%}.gross-amount .amount-input[data-v-966051a2]{padding-bottom:%?26?%}.gross-amount .amount-input .amount-icon[data-v-966051a2]{font-size:%?36?%;font-weight:700;color:#333;vertical-align:top}.gross-amount .amount-input .amount-input-p[data-v-966051a2]{font-size:%?32?%;font-family:PingFang SC;font-weight:400;color:#999}.gross-amount .amount-input .amount-input-l[data-v-966051a2]{font-size:%?56?%;font-family:DINPro;font-weight:700;color:#333;height:%?56?%}.gross-amount .amount-radio[data-v-966051a2]{padding:%?30?% 0;border-top:%?1?% solid #eee}.gross-amount .amount-radio .radio-name[data-v-966051a2]{font-size:%?30?%;font-family:PingFang SC;font-weight:700;color:#333;flex:0.95;line-height:%?60?%}.gross-amount .amount-radio .radio-radio[data-v-966051a2]{flex:0.05}.gross-amount .amount-radio .radio-radio[data-v-966051a2] .uni-radio-input{width:%?35?%;height:%?35?%}.gross-amount .amount-num[data-v-966051a2]{padding:%?40?% 0;border-top:%?1?% solid #eee;font-size:%?30?%;font-family:PingFang SC;font-weight:700;color:#333}.gross-amount .amount-num .amount-icon[data-v-966051a2]{flex:0.5;line-height:%?40?%}.preferential[data-v-966051a2]{padding:%?0?% %?30?% 0;border-radius:%?10?%}.preferential .bottom-bor[data-v-966051a2]{padding:%?40?% 0;border-bottom:%?1?% solid #eee}.preferential .regpack[data-v-966051a2]{font-size:%?28?%;font-family:PingFang SC;font-weight:500;color:#333;flex:0.5}.preferential .regpacknum[data-v-966051a2]{text-align:right;font-size:%?28?%;flex:0.5;font-family:PingFang SC;font-weight:500;color:#f44}.preferential .mitigate-price[data-v-966051a2]{font-size:%?26?%;font-family:PingFang SC;font-weight:500;color:#333}.preferential .settlement[data-v-966051a2]{font-size:%?76?%;font-family:DINPro;font-weight:700;color:#333}.mitigate-pocket[data-v-966051a2]{box-shadow:0 0 5px #cfced3}.mitigate-pocket .mitigate-pocket-fgx[data-v-966051a2]{display:flex;justify-content:space-between;margin:auto;width:%?630?%;height:%?2?%;border-bottom:1px dashed #eee}.mitigate-pocket[data-v-966051a2]::before{width:%?30?%;height:%?30?%;border-radius:50%;background-color:#f0edf4;position:relative}.mitigate-pocket[data-v-966051a2]::after{position:relative;width:%?30?%;height:%?30?%;border-radius:50%;background-color:#f0edf4}.mitigate[data-v-966051a2]{padding:%?40?% %?30?% %?40?% %?40?%}.mitigate .mitigate-price[data-v-966051a2]{color:#cd8553}.store-title[data-v-966051a2]{color:#cd8553;background-color:#fef9ed;height:%?70?%;line-height:%?70?%;margin:0 %?2?%}.buy-label[data-v-966051a2]{margin:%?10?% 0 %?20?%;padding:0 %?10?%;letter-spacing:%?2?%}.submit-btn[data-v-966051a2]{background-color:#f44;font-size:%?28?%;height:%?90?%;line-height:%?90?%}.hoverButton[data-v-966051a2]{opacity:.2;background-color:#000}.checkedjifen[data-v-966051a2]{width:%?40?%;height:%?40?%;border-radius:50%;background-color:#fff;border:%?1?% solid #f44;color:#f44;line-height:%?35?%;margin-right:%?10?%}.Showrichtext[data-v-966051a2]{width:92vw;height:%?831?%;padding:%?30?%;background:#fff;border-radius:20px 20px 0 0}.Showrichtext .Showrichtext-title[data-v-966051a2]{font-size:%?30?%;font-family:PingFang SC;font-weight:700;color:#333;text-align:center;padding-bottom:%?30?%}body.?%PAGE?%[data-v-966051a2]{background-color:#f9f9f9}",""]),t.exports=e},"967a":function(t,e,i){"use strict";var o=i("4ea4");i("99af"),i("caad"),i("c975"),i("acd8"),i("ac1f"),i("2532"),i("466d"),i("5319"),i("1276"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=o(i("b85c")),a=uni.getSystemInfoSync().screenWidth/750,s=i("9962"),r={name:"parser",data:function(){return{uid:this._uid,showAm:"",nodes:[],poster:""}},props:{name:"parser",html:null,autopause:{type:Boolean,default:!0},autoscroll:Boolean,autosetTitle:{type:Boolean,default:!0},domain:String,lazyLoad:Boolean,selectable:Boolean,tagStyle:Object,showWithAnimation:Boolean,useAnchor:Boolean},watch:{html:function(t){console.log("html",t),this.setContent(t)}},mounted:function(){this.poster=uni.getStorageSync("platformInfor").videoimg,this.imgList=[],this.imgList.each=function(t){for(var e=0,i=this.length;e<i;e++)this.setItem(e,t(this[e],e,this))},this.imgList.setItem=function(t,e){if(void 0!=t&&e){if(0==e.indexOf("http")&&this.includes(e)){for(var i,o="",n=0;i=e[n];n++){if("/"==i&&"/"!=e[n-1]&&"/"!=e[n+1])break;o+=Math.random()>.5?i.toUpperCase():i}return o+=e.substr(n),this[t]=o}if(this[t]=e,e.includes("data:image")){var a=e.match(/data:image\/(\S+?);(\S+?),(.+)/);if(!a)return}}},this.document=document.getElementById("rtf"+this._uid),this.html&&this.setContent(this.html)},beforeDestroy:function(){this._observer&&this._observer.disconnect(),this.imgList&&this.imgList.each((function(t){})),clearInterval(this._timer)},methods:{_Dom2Str:function(t){var e,i="",o=(0,n.default)(t);try{for(o.s();!(e=o.n()).done;){var a=e.value;if("text"==a.type)i+=a.text;else{for(var s in i+="<"+a.name,a.attrs||{})i+=" "+s+'="'+a.attrs[s]+'"';a.children&&a.children.length?i+=">"+this._Dom2Str(a.children)+"</"+a.name+">":i+=">"}}}catch(r){o.e(r)}finally{o.f()}return i},_handleHtml:function(t,e){if("string"!=typeof t&&(t=this._Dom2Str(t.nodes||t)),!e){var i="<style scoped>@keyframes show{0%{opacity:0}100%{opacity:1}}img{max-width:100%}";for(var o in s.userAgentStyles)i+="".concat(o,"{").concat(s.userAgentStyles[o],"}");for(o in this.tagStyle)i+="".concat(o,"{").concat(this.tagStyle[o],"}");i+="</style>",t=i+t}return t.includes("rpx")&&(t=t.replace(/[0-9.]+\s*rpx/g,(function(t){return parseFloat(t)*a+"px"}))),t},setContent:function(t,e){var i=this,o=t.replace(/&nbsp;/g,"");if(o){var a=document.createElement("div");e?this.rtf?this.rtf.appendChild(a):this.rtf=a:(this.rtf&&this.rtf.parentNode.removeChild(this.rtf),this.rtf=a),a.innerHTML=this._handleHtml(o,e);for(var r,l=this.rtf.getElementsByTagName("style"),c=0;r=l[c++];)r.innerHTML=r.innerHTML.replace(/body/g,"#rtf"+this._uid),r.setAttribute("scoped","true");!this._observer&&this.lazyLoad&&IntersectionObserver&&(this._observer=new IntersectionObserver((function(t){for(var e,o=0;e=t[o++];)e.isIntersecting&&(e.target.src=e.target.getAttribute("data-src"),e.target.removeAttribute("data-src"),i._observer.unobserve(e.target))}),{rootMargin:"500px 0px 500px 0px"}));var u=this,d=this.rtf.getElementsByTagName("title");d.length&&this.autosetTitle&&(this.imgList.length=0);for(var f,v=this.rtf.getElementsByTagName("img"),p=0,h=0;f=v[p];p++){var m=f.getAttribute("src");f.style.maxWidth="100%",f.style.verticalAlign="top",this.domain&&m&&("/"==m[0]?"/"==m[1]?f.src=(this.domain.includes("://")?this.domain.split("://")[0]:"")+":"+m:f.src=this.domain+m:m.includes("://")||(f.src=this.domain+"/"+m)),f.hasAttribute("ignore")||"A"==f.parentElement.nodeName||(f.i=h++,u.imgList.push(f.src||f.getAttribute("data-src")),f.onclick=function(){var t=!0;this.ignore=function(){return t=!1},u.$emit("imgtap",this),t&&uni.previewImage({current:this.i,urls:u.imgList})}),f.onerror=function(){s.errorImg&&(u.imgList[this.i]=this.src=s.errorImg),u.$emit("error",{source:"img",target:this})},u.lazyLoad&&this._observer&&f.src&&0!=f.i&&(f.setAttribute("data-src",f.src),f.removeAttribute("src"),this._observer.observe(f))}var g,b=this.rtf.getElementsByTagName("a"),y=(0,n.default)(b);try{for(y.s();!(g=y.n()).done;){var w=g.value;w.onclick=function(){var t=!0,e=this.getAttribute("href");if(u.$emit("linkpress",{href:e,ignore:function(){return t=!1}}),t&&e)if("#"==e[0])u.useAnchor&&u.navigateTo({id:e.substr(1)});else{if(0==e.indexOf("http")||0==e.indexOf("//"))return!0;uni.navigateTo({url:e})}return!1}}}catch(E){y.e(E)}finally{y.f()}var x=this.rtf.getElementsByTagName("video");u.videoContexts=x;for(var P,_=0;P=x[_++];)P.style.maxWidth="100%",P.poster=u.poster,P.onerror=function(){u.$emit("error",{source:"video",target:this})},P.onplay=function(){if(u.autopause)for(var t,e=0;t=u.videoContexts[e++];)t!=this&&t.pause()};var C,k,I=this.rtf.getElementsByTagName("audio"),S=(0,n.default)(I);try{for(S.s();!(C=S.n()).done;){var T=C.value;T.onerror=function(){u.$emit("error",{source:"audio",target:this})}}}catch(E){S.e(E)}finally{S.f()}if(this.autoscroll){var N,F=this.rtf.getElementsByTagName("table"),M=(0,n.default)(F);try{for(M.s();!(N=M.n()).done;){var B=N.value,z=document.createElement("div");z.style.overflow="scroll",B.parentNode.replaceChild(z,B),z.appendChild(B)}}catch(E){M.e(E)}finally{M.f()}}e||this.document.appendChild(this.rtf),this.$nextTick((function(){i.nodes=[1],i.$emit("load")})),setTimeout((function(){return i.showAm=""}),500),clearInterval(this._timer),this._timer=setInterval((function(){i.rect=i.rtf.getBoundingClientRect(),i.rect.height==k&&(i.$emit("ready",i.rect),clearInterval(i._timer)),k=i.rect.height}),350),this.showWithAnimation&&!e&&(this.showAm="animation:show .5s")}else this.rtf&&!e&&this.rtf.parentNode.removeChild(this.rtf)},getText:function(){arguments.length>0&&void 0!==arguments[0]||this.nodes;var t="";return t=this.rtf.innerText,t},navigateTo:function(t){if(!this.useAnchor)return t.fail&&t.fail({errMsg:"Anchor is disabled"});if(!t.id)return window.scrollTo(0,this.rtf.offsetTop),t.success&&t.success({errMsg:"pageScrollTo:ok"});var e=document.getElementById(t.id);if(!e)return t.fail&&t.fail({errMsg:"Label not found"});t.scrollTop=this.rtf.offsetTop+e.offsetTop+(t.offset||0),uni.pageScrollTo(t)},getVideoContext:function(t){if(!t)return this.videoContexts;for(var e=this.videoContexts.length;e--;)if(this.videoContexts[e].id==t)return this.videoContexts[e]}}};e.default=r},"986b":function(t,e,i){"use strict";var o;i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return o}));var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"follow"},["0"==t.followType&&1==t.followTitleShow&&0!=t.followInfo.status?i("v-uni-view",{staticClass:"followTitle"},[i("v-uni-view",{staticClass:"followTitlePackage"},[i("v-uni-view",{staticClass:"followImage"},[i("v-uni-image",{attrs:{src:t.platformInfor.logo}})],1),i("v-uni-view",{staticClass:"followInfomation"},[i("v-uni-view",{style:1!=t.followInfo.korea?"overflow: hidden;text-overflow: ellipsis;white-space: nowrap;":""},[i("v-uni-text",[t._v(t._s(1==t.followInfo.korea?"나의 소식 전하는 한밥상~":"欢迎进入"))]),1!=t.followInfo.korea?i("v-uni-text",{staticClass:"followText"},[t._v(t._s(t.platformInfor.name))]):t._e()],1),i("v-uni-view",[i("v-uni-text",[t._v(t._s(1==t.followInfo.korea?"가끔 한밥상 필요할때가 있습니다!":"关注公众号，享专属服务"))])],1)],1),i("v-uni-view",{staticClass:"followButton",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.openQrShow.apply(void 0,arguments)}}},[i("v-uni-text",[t._v(t._s(1==t.followInfo.korea?"팔로우":"立即关注"))])],1)],1),i("v-uni-view",{staticClass:"followTitleClose",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.closeFollowTitle.apply(void 0,arguments)}}},[i("v-uni-image",{attrs:{src:t.imgfixUrls+"merchant/followClose.png"}})],1)],1):t._e(),i("PopManager",{attrs:{show:t.followShow,type:t.type},on:{clickmask:function(e){arguments[0]=e=t.$handleEvent(e),t.closePop.apply(void 0,arguments)}}},["0"==t.followType&&"0"!=t.followInfo.status?i("v-uni-view",{staticClass:"qrCenter"},[i("v-uni-view",{staticClass:"qrCenterTitle"},[i("v-uni-text",[t._v("长按二维码，关注我们")])],1),i("v-uni-view",{staticClass:"qrCenterMain"},[i("v-uni-view",{staticClass:"qrCenterMainPackage"},[i("v-uni-image",{attrs:{src:t.followInfo.gzimage}})],1)],1)],1):t._e(),"0"!=t.followType&&"0"!=t.followInfo.status?i("v-uni-view",{staticClass:"qrBottom"},[i("v-uni-view",{staticClass:"qrBottomTitle"},[i("v-uni-view",{staticClass:"qrBottomImage"},[i("v-uni-image",{attrs:{src:t.followInfo.gzimage}})],1),i("v-uni-view",{staticClass:"qrBottomTip"},[i("v-uni-text",[t._v("长按识别，扫码关注")])],1)],1),i("v-uni-view",{staticClass:"qrBottomFoot",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.closePop.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"qrBottomButton"},[i("v-uni-text",[t._v("取消")])],1)],1)],1):t._e()],1)],1)},a=[]},9962:function(t,e,i){function o(t){for(var e=Object.create(null),i=t.split(","),o=i.length;o--;)e[i[o]]=!0;return e}i("ac1f"),i("1276"),t.exports={errorImg:null,filter:null,highlight:null,onText:null,entities:{quot:'"',apos:"'",semi:";",nbsp:" ",ensp:" ",emsp:" ",ndash:"–",mdash:"—",middot:"·",lsquo:"‘",rsquo:"’",ldquo:"“",rdquo:"”",bull:"•",hellip:"…"},blankChar:o(" , ,\t,\r,\n,\f"),blockTags:o("address,article,aside,body,caption,center,cite,footer,header,html,nav,section,pre"),ignoreTags:o("area,base,canvas,frame,input,link,map,meta,param,script,source,style,svg,textarea,title,track,wbr,iframe"),richOnlyTags:o("a,colgroup,fieldset,legend,picture,table,navigator"),selfClosingTags:o("area,base,br,col,circle,ellipse,embed,frame,hr,img,input,line,link,meta,param,path,polygon,rect,source,track,use,wbr"),trustAttrs:o("align,allowfullscreen,alt,app-id,author,autoplay,autostart,border,cellpadding,cellspacing,class,color,colspan,controls,data-src,dir,face,height,href,id,ignore,loop,media,muted,name,path,poster,rowspan,size,span,src,start,style,type,unit-id,width,xmlns"),boolAttrs:o("allowfullscreen,autoplay,autostart,controls,ignore,loop,muted"),trustTags:o("a,abbr,ad,audio,b,blockquote,br,code,col,colgroup,dd,del,dl,dt,div,em,fieldset,h1,h2,h3,h4,h5,h6,hr,i,img,ins,label,legend,li,ol,p,q,source,span,strong,sub,sup,table,tbody,td,tfoot,th,thead,tr,title,ul,video"),userAgentStyles:{address:"font-style:italic",big:"display:inline;font-size:1.2em",blockquote:"background-color:#f6f6f6;border-left:3px solid #dbdbdb;color:#6c6c6c;padding:5px 0 5px 10px",caption:"display:table-caption;text-align:center",center:"text-align:center",cite:"font-style:italic",dd:"margin-left:40px",mark:"background-color:yellow",pre:"font-family:monospace;white-space:pre;overflow:scroll",s:"text-decoration:line-through",small:"display:inline;font-size:0.8em",u:"text-decoration:underline"}}},"9c1e":function(t,e,i){var o=i("538a");"string"===typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);var n=i("4f06").default;n("f90ed3f0",o,!0,{sourceMap:!1,shadowMode:!1})},a3b8:function(t,e,i){"use strict";var o=i("9c1e"),n=i.n(o);n.a},b02d:function(t,e,i){"use strict";var o=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=o(i("77ab")),a=(o(i("8c82")),o(i("a833"))),s={components:{PopManager:a.default},props:{shareId:{type:String,default:""},followShow:{type:Boolean,default:!1},followType:{type:String,default:""},followTitleShow:{type:Boolean,default:!1},followData:{type:Object,default:null}},watch:{followData:{handler:function(t,e){this.followInfo=t},deep:!0}},data:function(){return{type:null,platformInfor:{},followInfo:{status:0},img:""}},mounted:function(){var t=this;"0"==t.followType?t.type="center":t.type="bottom",t.platformInfor=uni.getStorageSync("platformInfor"),t.init()},methods:{closePop:function(){var t=this;t.$emit("closeFollowPop")},closeFollowTitle:function(){var t=this;t.$emit("closeFollowTitle")},init:function(){var t=this;t.getFollow()},getFollow:function(){var t=this;if("10"!=t.followType){var e={type:t.followType,id:t.shareId||""};n.default._post_form("&do=Follow",e,(function(e){t.followInfo=e.data}))}},openQrShow:function(){var t=this;t.$emit("clickmask");var e=location.href,i={url:e};n.default._post_form("&do=TopFollow",i,(function(t){console.info(t.data)}))}}};e.default=s},b85c:function(t,e,i){"use strict";i("a4d3"),i("e01a"),i("d28b"),i("d3b7"),i("3ca3"),i("ddb0"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=a;var o=n(i("06c5"));function n(t){return t&&t.__esModule?t:{default:t}}function a(t,e){var i;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(i=(0,o.default)(t))||e&&t&&"number"===typeof t.length){i&&(t=i);var n=0,a=function(){};return{s:a,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,r=!0,l=!1;return{s:function(){i=t[Symbol.iterator]()},n:function(){var t=i.next();return r=t.done,t},e:function(t){l=!0,s=t},f:function(){try{r||null==i["return"]||i["return"]()}finally{if(l)throw s}}}}},c45b:function(t,e,i){"use strict";var o=i("056e"),n=i.n(o);n.a},c47f:function(t,e,i){"use strict";var o=i("4c6e"),n=i.n(o);n.a},c6b2:function(t,e,i){"use strict";var o=i("0b44"),n=i.n(o);n.a},cb39:function(t,e,i){"use strict";i.r(e);var o=i("864b"),n=i("002c");for(var a in n)"default"!==a&&function(t){i.d(e,t,(function(){return n[t]}))}(a);i("c6b2");var s,r=i("f0c5"),l=Object(r["a"])(n["default"],o["b"],o["c"],!1,null,"23fdce49",null,!1,o["a"],s);e["default"]=l.exports},d0e2:function(t,e,i){"use strict";i.r(e);var o=i("b02d"),n=i.n(o);for(var a in o)"default"!==a&&function(t){i.d(e,t,(function(){return o[t]}))}(a);e["default"]=n.a},d9b6:function(t,e,i){"use strict";i.r(e);var o=i("312f"),n=i("dc89");for(var a in n)"default"!==a&&function(t){i.d(e,t,(function(){return n[t]}))}(a);i("c47f");var s,r=i("f0c5"),l=Object(r["a"])(n["default"],o["b"],o["c"],!1,null,"966051a2",null,!1,o["a"],s);e["default"]=l.exports},dc89:function(t,e,i){"use strict";i.r(e);var o=i("fe10"),n=i.n(o);for(var a in o)"default"!==a&&function(t){i.d(e,t,(function(){return o[t]}))}(a);e["default"]=n.a},e6fc:function(t,e,i){"use strict";i.r(e);var o=i("986b"),n=i("d0e2");for(var a in n)"default"!==a&&function(t){i.d(e,t,(function(){return n[t]}))}(a);i("c45b");var s,r=i("f0c5"),l=Object(r["a"])(n["default"],o["b"],o["c"],!1,null,"6c1d320e",null,!1,o["a"],s);e["default"]=l.exports},fe10:function(t,e,i){"use strict";var o=i("4ea4");i("c975"),i("d81d"),i("a434"),i("a9e3"),i("ac1f"),i("5319"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=o(i("ade3")),a=o(i("a833")),s=o(i("77ab")),r=o(i("cb39")),l=o(i("8287")),c=o(i("e6fc")),u=o(i("215f")),d=o(i("84df")),f={data:function(){var t;return t={tipsText:"",e:null,followTitleShow:!0,followShow:!1,followType:"6",sid:null,iScoupon:!1,buyData:{},loadlogo:!0,vipCouponPrice:0,consumPrice:"",notconsumPrice:"",buyPrice:"0.00",type:""},(0,n.default)(t,"sid",""),(0,n.default)(t,"pack_id",""),(0,n.default)(t,"useInfo",{pack:[]}),(0,n.default)(t,"shopShow",!1),(0,n.default)(t,"showType","bottom"),(0,n.default)(t,"phoneHight",0),(0,n.default)(t,"sid",""),(0,n.default)(t,"packids",[]),(0,n.default)(t,"payonline",null),(0,n.default)(t,"loading",!0),(0,n.default)(t,"buttonType",1),(0,n.default)(t,"usepayonlines",0),(0,n.default)(t,"pnePayonlines",0),(0,n.default)(t,"overprice",0),(0,n.default)(t,"maxPointsDeduction",0),(0,n.default)(t,"flag",!1),(0,n.default)(t,"checkedjifen",!1),(0,n.default)(t,"TextSubstitution",{}),(0,n.default)(t,"redPagList",[]),(0,n.default)(t,"noredPagList",[]),(0,n.default)(t,"redpackId",null),(0,n.default)(t,"cut_money",0),(0,n.default)(t,"full_money",0),(0,n.default)(t,"redPackageNum","使用红包"),(0,n.default)(t,"shopShowrich",!1),t},onLoad:function(t){var e=this;uni.getSystemInfo({success:function(t){e.phoneHight=t.windowHeight+"px"}}),e.TextSubstitution=uni.getStorageSync("TextSubstitution"),e.e=t,e.setData({type:t.type||"",mid:t.mid||"",sid:t.sid||""}),console.log(this.e)},components:{loading:r.default,PopManager:a.default,loadlogo:r.default,follow:c.default,jyfParser:u.default,redPagDown:d.default},onShow:function(){var t=this;t.type=t.e.type||"",t.mid=t.mid||"",t.sid=t.sid||"",t.pack_id=t.e.pack_id||"";t.type,t.mid,t.sid,t.pack_id;console.info("e",t.e),t.type?("1"==t.type&&(t.getUseInfo(t.type,t.mid,t.sid,"",(function(){console.info(t.useInfo),"1"==t.useInfo.is_shop&&(t.shopShow=!0)})),uni.setNavigationBarTitle({title:"特权使用"})),"2"==t.type&&(t.sid=t.e.sid||"",t.getUseInfo(t.type,t.mid,t.sid,"",(function(){})),uni.setNavigationBarTitle({title:"在线买单"})),"3"==t.type&&(t.pack_id=t.e.pack_id||"",t.getUseInfo(t.type,t.mid,"",t.pack_id,(function(){})),uni.setNavigationBarTitle({title:"礼包使用"}))):(t.payonline=1,t.getPayOnlineInfo(t.sid))},watch:{notconsumPrice:{handler:function(){var t=this;t.overprice="0.00",t.useInfo.discount=Number(t.useInfo.discount),t.consumPrice=Number(t.consumPrice),t.notconsumPrice=Number(t.notconsumPrice),t.buyPrice=Number(t.buyPrice),t.vipCouponPrice=Number(t.vipCouponPrice),t.buyPrice=l.default.subtractionFloat(t.consumPrice,t.notconsumPrice,100)*(t.useInfo.discount/10)+t.notconsumPrice,0!=t.buyPrice?t.buyPrice=t.buyPrice.toFixed(2):t.buyPrice=t.buyPrice,t.vipCouponPrice=l.default.subtractionFloat(t.consumPrice,t.buyPrice,100),0!=t.vipCouponPrice?t.vipCouponPrice=t.vipCouponPrice.toFixed(2):t.vipCouponPrice=t.vipCouponPrice,console.log(this.useInfo,t.buyPrice,"服劲儿");var e=Number(t.buyPrice);t.maxPointsDeduction=Math.round(Number(t.buyPrice)*Number(t.useInfo.payinrate)*100)/100;var i=t.maxPointsDeduction*Number(t.useInfo.payintegral);if("1"!=t.type&&(i<=Number(t.useInfo.memberintegral)||(t.maxPointsDeduction=Math.round(Number(t.useInfo.memberintegral)/Number(t.useInfo.payintegral)*100)/100),t.buyPrice=t.buyPrice-t.maxPointsDeduction,t.checkedjifen||(t.buyPrice=t.buyPrice+t.maxPointsDeduction)),e>=t.full_money&&(t.buyPrice=Number(t.buyPrice)-Number(this.cut_money)),console.log("不满减后的计算",t.buyPrice,t.maxPointsDeduction),t.buyPrice<0&&(t.buyPrice=0),this.useInfo.fullreducelist)for(var o=0;o<this.useInfo.fullreducelist.list.length;o++){if(Number(e)>=Number(this.useInfo.fullreducelist.list[o].full_money)&&(0==o||Number(e)<Number(this.useInfo.fullreducelist.list[o-1].full_money)))return console.log(t.buyPrice,this.useInfo.fullreducelist.list[o]),t.flag=!0,t.buyPrice=Number(t.buyPrice)-Number(this.useInfo.fullreducelist.list[o].cut_money),t.overprice=this.useInfo.fullreducelist.list[o].cut_money,void(t.buyPrice<0&&(t.buyPrice=0));t.flag=!1}}},iScoupon:{handler:function(){var t=this;t.notconsumPrice=""}},consumPrice:{handler:function(){this.consumPrices(),this.redPackageNum="使用红包",this.redpackId=null,this.cut_money=0,this.full_money=0,this.checkedjifen=!1,this.redPagList=[],this.noredPagList=[]}}},methods:{fpNumInput:function(t){var e=t.target,i=/[^\d.]/g;this.$nextTick((function(){this.consumPrice=e.value.replace(i,"")}))},prices:function(t){console.log(t);var e=this;t.check?(e.redpackId=t.id,e.cut_money=Number(t.cut_money),e.full_money=Number(t.full_money),e.redPackageNum="-¥".concat(e.cut_money)):(e.redpackId=null,e.cut_money=0,e.full_money=0,e.redPackageNum="使用红包"),console.log(e.cut_money,e.full_money),e.consumPrices()},openRegpack:function(){var t=this,e={sid:t.sid,money:t.consumPrice-t.vipCouponPrice};s.default._post_form("&p=halfcard&do=getRedpackList",e,(function(e){console.log(e);var i=e.data.useList;i.map((function(t,e){t.isCheked=!1})),t.setData({redPagList:i}),t.setData({noredPagList:e.data.noUseList}),e.data.noUseList.length>0||e.data.useList.length>0?setTimeout((function(){t.$refs.redPagDown.redPagss=!0}),100):uni.showToast({title:"暂无可用红包",icon:"none"})}),(function(t){}))},redPagClosePop:function(t){var e=this;e.$refs.redPagDown.redPagss=!1},consumPrices:function(){var t=this;t.overprice="0.00",t.iScoupon?(t.useInfo.discount=Number(t.useInfo.discount),t.consumPrice=Number(t.consumPrice),t.notconsumPrice=Number(t.notconsumPrice),t.buyPrice=Number(t.buyPrice),t.vipCouponPrice=Number(t.vipCouponPrice),l.default.subtractionFloat(t.consumPrice,t.notconsumPrice,100)*(t.useInfo.discount/10)+t.notconsumPrice!=0?t.buyPrice=(l.default.subtractionFloat(t.consumPrice,t.notconsumPrice,100)*(t.useInfo.discount/10)+t.notconsumPrice).toFixed(2):t.buyPrice=l.default.subtractionFloat(t.consumPrice,t.notconsumPrice,100)*(t.useInfo.discount/10)+t.notconsumPrice,0!=l.default.subtractionFloat(t.consumPrice,t.buyPrice,100)?t.vipCouponPrice=l.default.subtractionFloat(t.consumPrice,t.buyPrice,100).toFixed(2):t.vipCouponPrice=l.default.subtractionFloat(t.consumPrice,t.buyPrice,100)):(t.useInfo.discount=Number(t.useInfo.discount),t.consumPrice=Number(t.consumPrice),t.notconsumPrice=Number(t.notconsumPrice),t.buyPrice=Number(t.buyPrice),t.vipCouponPrice=Number(t.vipCouponPrice),t.consumPrice*(t.useInfo.discount/10)!=0?t.buyPrice=(t.consumPrice*(t.useInfo.discount/10)).toFixed(2):t.buyPrice=t.consumPrice*(t.useInfo.discount/10),0!=l.default.subtractionFloat(t.consumPrice,t.buyPrice,100)?t.vipCouponPrice=l.default.subtractionFloat(t.consumPrice,t.buyPrice,100).toFixed(2):t.vipCouponPrice=l.default.subtractionFloat(t.consumPrice,t.buyPrice,100)),console.log("测试价格",t.buyPrice,Number(t.buyPrice));var e=t.buyPrice;t.maxPointsDeduction=Math.round(Number(t.buyPrice)*Number(t.useInfo.payinrate)*100)/100;var i=t.maxPointsDeduction*Number(t.useInfo.payintegral);if("1"!=t.type&&(i<=Number(t.useInfo.memberintegral)||(t.maxPointsDeduction=Math.round(Number(t.useInfo.memberintegral)/Number(t.useInfo.payintegral)*100)/100),t.buyPrice=t.buyPrice-t.maxPointsDeduction,t.checkedjifen||(t.buyPrice=t.buyPrice+t.maxPointsDeduction)),console.log("朱劲儿111",t.buyPrice,t.maxPointsDeduction),e>=t.full_money&&(t.buyPrice=t.buyPrice-Number(t.cut_money)),t.buyPrice<0&&(t.buyPrice=0),t.useInfo.fullreducelist)for(var o=0;o<t.useInfo.fullreducelist.list.length;o++){if(Number(e)>=Number(t.useInfo.fullreducelist.list[o].full_money)&&(0==o||Number(e)<Number(t.useInfo.fullreducelist.list[o-1].full_money)))return t.flag=!0,t.buyPrice=Number(t.buyPrice)-Number(t.useInfo.fullreducelist.list[o].cut_money),t.overprice=t.useInfo.fullreducelist.list[o].cut_money,void(t.buyPrice<0&&(t.buyPrice=0));t.flag=!1}},switch1Change:function(t){console.log(t),t.detail.value?this.jifenchecked(1):this.jifenchecked(0)},jifenchecked:function(t){0==t?(this.checkedjifen=!1,this.consumPrices()):(this.checkedjifen=!0,this.consumPrices())},closeFollowTitle:function(){var t=this;t.followTitleShow=!1},closeFollowPop:function(){var t=this;t.followShow=!1},openQrShow:function(){var t=this;t.followShow=!0},iScouponCheck:function(){var t=this;t.iScoupon=!t.iScoupon,t.iScoupon||(t.notconsumPrice="")},checkLb:function(t){var e=this;if(-1==e.packids.indexOf(t))e.packids.push(t);else for(var i=0;i<e.packids.length;i++)e.packids[i]==t&&e.packids.splice(i,1)},closeShopShow:function(t){var e=this;e.sid=t,e.pack_id="",e.shopShow=!1,e.getUseInfo(e.type,e.mid,e.sid,e.pack_id,(function(){}))},getPayOnlineInfo:function(t){var e=this,i={sid:t};s.default._post_form("&p=halfcard&do=getPayOnlineInfo",i,(function(t){e.useInfo=t.data,e.usepayonlines=t.data.usepayonline,e.pnePayonlines=t.data.payonline,e.loadlogo=!1,e.loading=!1}),(function(t){e.useInfo.newpageflag?e.loadlogo=!0:e.loadlogo=!1,"非核销员"==t.message&&s.default.navigationTo({url:"pages/mainPages/index/index"})}))},usePrivileged:function(){},usePayOnline:function(){var t=this;t.sid,t.consumPrice,t.redpackId,t.notconsumPrice,t.useInfo.payintegral>0&&t.useInfo.payinrate>0&&t.checkedjifen;if(t.buttonType=2,""==t.type){var e={type:t.type||t.followType,id:t.sid};s.default._post_form("&do=Follow",e,(function(e){if("0"==e.data.status){var i={sid:t.sid,money:t.consumPrice,redpackid:t.redpackId,no_money:t.notconsumPrice,integralstatus:t.useInfo.payintegral>0&&t.useInfo.payinrate>0&&t.checkedjifen?1:0};s.default._post_form("&p=halfcard&do=usePayOnline",i,(function(e){0==e.data.status?s.default.navigationTo({url:"pages/subPages/paySuccess/paySuccess?tid="+e.data.tid+"&plugin="+e.data.plugin,navType:"rediRect"}):(t.buttonType=1,s.default.navigationTo({url:"pages/mainPages/payment/payment?orderid="+e.data+"&plugin=halfcard"}))}),(function(e){t.buttonType=1,"非核销员"==e.message&&s.default.navigationTo({url:"pages/mainPages/index/index"})}))}else t.buttonType=1,t.followShow=!0}))}else{var i={mid:t.mid,packids:t.packids,money:t.consumPrice,no_money:t.notconsumPrice,card_id:t.useInfo.card_id};t.buttonType=2,s.default._post_form("&p=halfcard&do=usePrivileged",i,(function(t){uni.showToast({icon:"none",title:"消费成功",duration:2e3,success:function(){setTimeout((function(){s.default.navigationTo({url:"pages/mainPages/index/index"})}),2e3)}})}),(function(e){t.buttonType=1,"非核销员"==e.message&&s.default.navigationTo({url:"pages/mainPages/index/index"})}))}},getUseInfo:function(t,e,i,o,n){var a=this,r={type:a.type||t,sid:a.sid||i,pack_id:a.pack_id||o,mid:a.mid||e};s.default._post_form("&p=halfcard&do=useInfo",r,(function(t){a.loading=!1,a.useInfo=t.data,a.payonline=t.data.payonline,a.usepayonlines=t.data.usepayonline,a.pnePayonlines=t.data.payonline,a.loadlogo=!1,n&&n()}),(function(t){s.default.navigationTo({url:"pages/mainPages/userCenter/userCenter"})}))},onclose:function(t,e){var i=this.useInfo;this.useInfo&&this.useInfo.bannerid&&(i.bannerid="")}},computed:{}};e.default=f}}]);