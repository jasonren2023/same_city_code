(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-mainPages-poster-poster"],{"040d":function(t,a,i){"use strict";i.r(a);var e=i("754d"),n=i("04d0");for(var o in n)"default"!==o&&function(t){i.d(a,t,(function(){return n[t]}))}(o);i("f0ce");var s,r=i("f0c5"),d=Object(r["a"])(n["default"],e["b"],e["c"],!1,null,"7da7659a",null,!1,e["a"],s);a["default"]=d.exports},"04d0":function(t,a,i){"use strict";i.r(a);var e=i("c6aa"),n=i.n(e);for(var o in e)"default"!==o&&function(t){i.d(a,t,(function(){return e[t]}))}(o);a["default"]=n.a},"754d":function(t,a,i){"use strict";var e;i.d(a,"b",(function(){return n})),i.d(a,"c",(function(){return o})),i.d(a,"a",(function(){return e}));var n=function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("v-uni-view",[i("far-bottom"),i("v-uni-scroll-view",{staticClass:"poster",style:{height:t.phoneHight},attrs:{"scroll-y":!0,"scroll-x":!1}},[i("v-uni-view",{staticClass:"mainPackage"},[i("v-uni-view",{staticClass:"nHaveList textC"},[i("v-uni-view",{staticClass:"posterPackage"},[i("v-uni-image",{style:{height:t.phoneHight1,width:t.phoneWidth1},attrs:{src:t.posterList.url},on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.yl(t.posterList.url)},load:function(a){arguments[0]=a=t.$handleEvent(a),t.load.apply(void 0,arguments)}}})],1),i("v-uni-view",{staticClass:"nShareTips "},[i("v-uni-image",{attrs:{src:t.imgfixUrls+"merchant/fx.png"}}),i("span",[t._v("长按上图保存图片，或发送给朋友")])],1)],1)],1)],1),t.posterList.bg_list&&t.posterList.bg_list.length>0?i("v-uni-view",{staticClass:"bglist-main b-f padding-box-all"},[i("v-uni-scroll-view",{attrs:{"scroll-x":!0}},[i("v-uni-view",{staticClass:"poster-bg"},t._l(t.posterList.bg_list,(function(a,e){return i("v-uni-view",{staticClass:"poster-bg-item p-r",style:{"background-image":"url("+a+")"},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.selectPost(a)}}},[t.curbgImage===a?i("v-uni-image",{attrs:{src:t.imgfixUrls+"posterSelect.png",mode:""}}):t._e()],1)})),1)],1)],1):t._e()],1)},o=[]},c6aa:function(t,a,i){"use strict";var e=i("4ea4");Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=e(i("77ab")),o=(e(i("8c82")),{data:function(){return{posterList:{},id:"",type:0,phoneHight:null,phoneHight1:null,phoneWidth:null,phoneWidth1:null,windowHeight:null,curbgImage:"",tagrt:null,flag:!0,hbjz:"",redids:""}},onLoad:function(t){var a=this;a.tagrt=t,t.redid&&(a.redids=t.redid),a.getPoster(a.tagrt.id,a.tagrt.type),a.setData(a.tagrt)},onShow:function(){var t=this;t.flag?t.flag=!1:t.setData(t.tagrt)},methods:{saveImg:function(t){uni.getImageInfo({src:t,success:function(t){uni.saveImageToPhotosAlbum({filePath:t.path,success:function(){uni.showToast({icon:"none",title:"保存成功",duration:2e3})}})}})},yl:function(t){var a=[];a.push(t),uni.previewImage({current:a[0],urls:a})},getPoster:function(t,a){var i=this,e={id:t,type:a,redid:i.redids||"",bg_img:""};uni.showLoading({title:"海报生成中"}),n.default._post_form("&do=Poster",e,(function(t){uni.showLoading({title:"海报加载中"}),i.posterList=t.data,uni.getImageInfo({src:t.data.url,success:function(t){i.phoneHight1=uni.upx2px(t.height)+"px",i.phoneWidth1=uni.upx2px(t.width)+"px"}}),uni.getSystemInfo({success:function(a){i.phoneHight=t.data.bg_list.length>0?a.windowHeight-110+"px":a.windowHeight+"px"}}),t.data.bg_list.length,i.type,uni.hideLoading()}))},selectPost:function(t){this.postRequest(this.id,this.type,t)},postRequest:function(t,a,i){var e=this,o={id:t,type:a,bg_img:i};n.default._post_form("&do=Poster",o,(function(t){e.posterList=t.data,e.curbgImage=i,uni.getImageInfo({src:t.data.url,success:function(t){e.phoneHight1=uni.upx2px(t.height)+"px",e.phoneWidth1=uni.upx2px(t.width)+"px"}}),t.data.bg_list.length,e.type}))},changeImg:function(t){var a=this;a.posterList.url=t}}});a.default=o},e6d5:function(t,a,i){var e=i("f6de");"string"===typeof e&&(e=[[t.i,e,""]]),e.locals&&(t.exports=e.locals);var n=i("4f06").default;n("541b3537",e,!0,{sourceMap:!1,shadowMode:!1})},f0ce:function(t,a,i){"use strict";var e=i("e6d5"),n=i.n(e);n.a},f6de:function(t,a,i){var e=i("24fb");a=e(!1),a.push([t.i,".nShareButton[data-v-7da7659a]{margin:%?30?% auto 0 auto;width:%?400?%;height:%?80?%;background:#f44;border-radius:%?40?%;text-align:center}.nShareButton > uni-text[data-v-7da7659a]{line-height:%?80?%;font-size:%?28?%;color:#fff}.mainPackage[data-v-7da7659a]{padding-bottom:%?60?%}.textC[data-v-7da7659a]{text-align:center}.poster[data-v-7da7659a]{background:#323332;font-size:0}.nShareTips[data-v-7da7659a]{margin:%?10?% 0 0 %?0?%}.nShareTips > uni-image[data-v-7da7659a]{vertical-align:bottom;width:%?30?%;height:%?70?%}.nShareTips > span[data-v-7da7659a]{vertical-align:bottom;font-size:%?30?%;color:#fff}.posterPackage[data-v-7da7659a]{margin:%?30?% auto 0 auto}.posterPackage > uni-image[data-v-7da7659a]{width:%?650?%}.yPosterPackage[data-v-7da7659a]{margin:%?30?% auto 0 auto}.yPosterPackage > uni-image[data-v-7da7659a]{width:%?650?%}.yShareTips[data-v-7da7659a]{margin:%?10?% 0 0 0}.yShareTips > uni-image[data-v-7da7659a]{vertical-align:bottom;width:%?30?%;height:%?70?%}.yShareTips > span[data-v-7da7659a]{vertical-align:bottom;font-size:%?30?%;color:#fff}.navBottom[data-v-7da7659a]{position:absolute;bottom:0;width:%?750?%;background:#fff}.posterListMb[data-v-7da7659a]{display:inline-block;margin:0 %?15?%;width:%?100?%;height:%?100?%;background:red}.posterListMb > uni-image[data-v-7da7659a]{width:%?100?%;height:%?100?%}.posterListMbPackage[data-v-7da7659a]{padding:%?30?% %?15?%}.bglist-main[data-v-7da7659a]{position:fixed;left:0;right:0;bottom:0;white-space:nowrap}.poster-bg .poster-bg-item[data-v-7da7659a]{width:%?150?%;height:%?150?%;background-size:%?150?% %?150?%;background-repeat:no-repeat;background-position:50%;margin-right:%?30?%;display:inline-block;border-radius:%?10?%}.poster-bg .poster-bg-item > uni-image[data-v-7da7659a]{display:block;width:%?40?%;height:%?40?%;position:absolute;right:0;bottom:0}",""]),t.exports=a}}]);